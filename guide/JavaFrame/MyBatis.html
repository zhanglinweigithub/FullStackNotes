<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/FullStackNotes/images/quantou.png"><title>MyBatis | FullStackNotes</title><meta name="description" content="这是我的全栈学习笔记">
    <link rel="preload" href="/FullStackNotes/assets/style-dadc6ee9.css" as="style"><link rel="stylesheet" href="/FullStackNotes/assets/style-dadc6ee9.css">
    <link rel="modulepreload" href="/FullStackNotes/assets/app-db6a7b71.js"><link rel="modulepreload" href="/FullStackNotes/assets/framework-5866ffd3.js"><link rel="modulepreload" href="/FullStackNotes/assets/MyBatis.html-8b93a09f.js"><link rel="modulepreload" href="/FullStackNotes/assets/MyBatis.html-5c085f25.js"><link rel="prefetch" href="/FullStackNotes/assets/ctest.html-c52da53d.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/index.html-62895679.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/AlgorithmBase.html-1d9f78d1.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/LeetCodeAnswer.html-cc15b1cc.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/LeetCodeRecord.html-5b2a60fa.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Applets.html-5a4af005.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/AppletsBefore.html-fd6564f2.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Net.html-d739fdf6.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Behavior.html-a975e5c9.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Create.html-d2b00fb3.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Structure.html-005d7fff.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Docker.html-8da8f4c3.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Git - 副本.html-72ab9047.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Git.html-f55e4fbd.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Go - 副本.html-200db924.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Go.html-e4f3c0e0.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Hutools.html-6dd21178.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Collection.html-050d7689.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JavaBase.html-3bf65383.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JavaIO.html-ca203f43.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JavaJUC.html-569d0449.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JVM.html-c3f9ba78.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Spring.html-a96cfea2.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/SpringBoot.html-37beb752.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JavaScript.html-06b85668.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Linux.html-651f6290.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/MarkDownCMD.html-554ff6b9.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/MarkDownIcon.html-e64b38e0.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/MySQL.html-77bdf13a.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Nginx.html-cb3bb2aa.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/vue-element.html-ce2dfd17.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/RabbitMQ.html-29a808c6.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Redis.html-1b8dd4c2.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/ShellScript.html-bc0c3229.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/TypeScript.html-28b73eb2.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Vue2.html-b0798749.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Vue3.html-4dfebecd.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/WebSite.html-041da0aa.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Feign.html-ef944e59.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/CORS.html-22bc23cb.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Filters.html-86fbad4b.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Gateway.html-d8bdd87c.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Predicate.html-3550602d.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/UseGateway.html-92e65567.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/InstallNacos.html-cdaa7de7.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Nacos.html-9e281635.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/NacosConfig.html-a7f4cc88.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/NacosRegister.html-62dc16aa.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/ctest.html-0c65978d.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/index.html-b809455c.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/AlgorithmBase.html-f94a5acd.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/LeetCodeAnswer.html-82d04f95.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/LeetCodeRecord.html-89644885.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Applets.html-85f9791e.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/AppletsBefore.html-fddbee09.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Net.html-61efc614.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Behavior.html-99890d99.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Create.html-46248c27.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Structure.html-c13b152c.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Docker.html-e83e7c6d.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Git - 副本.html-262e0d3e.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Git.html-c3a049f4.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Go - 副本.html-424b2452.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Go.html-8c24f044.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Hutools.html-9100990b.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Collection.html-9cb1b0d9.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JavaBase.html-2bddde75.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JavaIO.html-5180961b.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JavaJUC.html-96e20fd7.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JVM.html-e84d2090.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Spring.html-511ff38d.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/SpringBoot.html-2844098b.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/JavaScript.html-efff14b9.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Linux.html-ccb99c89.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/MarkDownCMD.html-f6df18b7.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/MarkDownIcon.html-dc9f35a6.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/MySQL.html-41ba3b0c.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Nginx.html-d69e3684.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/vue-element.html-eaab2a58.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/RabbitMQ.html-1c29273c.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Redis.html-c6688b46.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/ShellScript.html-c8cf27e5.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/TypeScript.html-36b0ae6b.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Vue2.html-0b21b29f.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Vue3.html-5a8ec12f.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/WebSite.html-3fdb4157.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Feign.html-ac45eb55.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/CORS.html-628d728a.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Filters.html-c14458f6.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Gateway.html-69d5ff6b.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Predicate.html-23fc1c68.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/UseGateway.html-3cdd58d6.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/InstallNacos.html-8e77cb69.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/Nacos.html-4b084fb3.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/NacosConfig.html-f8f8df9a.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/NacosRegister.html-00e2568e.js" as="script"><link rel="prefetch" href="/FullStackNotes/assets/404.html-87d54bd8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/FullStackNotes/" class=""><img class="logo" src="/FullStackNotes/images/quantou.png" alt="FullStackNotes"><span class="site-name can-hide">FullStackNotes</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="小程序"><span class="title">小程序</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="小程序"><span class="title">小程序</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Applets/AppletsBefore.md" class="" aria-label="前置知识"><!--[--><!--]--> 前置知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Applets/Applets.md" class="" aria-label="开发知识"><!--[--><!--]--> 开发知识 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/JavaBase.md" class="" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/Collection.md" class="" aria-label="Java集合"><!--[--><!--]--> Java集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/JavaJUC.md" class="" aria-label="Java并发"><!--[--><!--]--> Java并发 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/JavaIO.md" class="" aria-label="JavaIO"><!--[--><!--]--> JavaIO <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/JVM.md" class="" aria-label="Java虚拟机"><!--[--><!--]--> Java虚拟机 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java框架"><span class="title">Java框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java框架"><span class="title">Java框架</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/JavaFrame/Spring.md" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/JavaFrame/SpringBoot.md" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/JavaFrame/MyBatis.md" class="" aria-label="MyBatis"><!--[--><!--]--> MyBatis <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/MySQL/MySQL.md" class="" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="中间件"><span class="title">中间件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="中间件"><span class="title">中间件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Redis/Redis.md" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/RabbitMQ/RabbitMQ.md" class="" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="微服务组件"><span class="title">微服务组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="微服务组件"><span class="title">微服务组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/SpringCloud/Nacos/Nacos.md" class="" aria-label="Nacos"><!--[--><!--]--> Nacos <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/SpringCloud/Feign/Feign.md" class="" aria-label="Feign"><!--[--><!--]--> Feign <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/SpringCloud/Gateway/Gateway.md" class="" aria-label="Gateway"><!--[--><!--]--> Gateway <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Git/Git.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Docker/Docker.md" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Hutools/Hutools.md" class="" aria-label="Hutools"><!--[--><!--]--> Hutools <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端技术"><span class="title">前端技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端技术"><span class="title">前端技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Vue2/Vue2.md" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Vue3/Vue3.md" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/JavaScript/JavaScript.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/TypeScript/TypeScript.md" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Nginx/Nginx.md" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Algorithm/AlgorithmBase.md" class="" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Algorithm/LeetCodeAnswer.md" class="" aria-label="LeetCode 题解"><!--[--><!--]--> LeetCode 题解 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Algorithm/LeetCodeRecord.md" class="" aria-label="刷题记录"><!--[--><!--]--> 刷题记录 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Linux/Linux.md" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Shell/ShellScript.md" class="" aria-label="Shell脚本"><!--[--><!--]--> Shell脚本 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="项目"><span class="title">项目</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="项目"><span class="title">项目</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Project/Vue-element.md" class="" aria-label="vue-element-admin"><!--[--><!--]--> vue-element-admin <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其它"><span class="title">其它</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其它"><span class="title">其它</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>设计模式</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/DesignPatterns/Behavior.md" class="" aria-label="行为型"><!--[--><!--]--> 行为型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/DesignPatterns/Create.md" class="" aria-label="创建型"><!--[--><!--]--> 创建型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/DesignPatterns/Structure.md" class="" aria-label="结构型"><!--[--><!--]--> 结构型 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>MarkDown</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/MarkDown/MarkDownCMD.md" class="" aria-label="MarkDown语法"><!--[--><!--]--> MarkDown语法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/MarkDown/MarkDownIcon.md" class="" aria-label="MarkDown图标"><!--[--><!--]--> MarkDown图标 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>实用网站</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/WebSite/WebSite.md" class="" aria-label="实用网站汇总"><!--[--><!--]--> 实用网站汇总 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://gitee.com/linwei-zhang/full-stack-notes" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="小程序"><span class="title">小程序</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="小程序"><span class="title">小程序</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Applets/AppletsBefore.md" class="" aria-label="前置知识"><!--[--><!--]--> 前置知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Applets/Applets.md" class="" aria-label="开发知识"><!--[--><!--]--> 开发知识 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/JavaBase.md" class="" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/Collection.md" class="" aria-label="Java集合"><!--[--><!--]--> Java集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/JavaJUC.md" class="" aria-label="Java并发"><!--[--><!--]--> Java并发 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/JavaIO.md" class="" aria-label="JavaIO"><!--[--><!--]--> JavaIO <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Java/JVM.md" class="" aria-label="Java虚拟机"><!--[--><!--]--> Java虚拟机 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java框架"><span class="title">Java框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java框架"><span class="title">Java框架</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/JavaFrame/Spring.md" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/JavaFrame/SpringBoot.md" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/JavaFrame/MyBatis.md" class="" aria-label="MyBatis"><!--[--><!--]--> MyBatis <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/MySQL/MySQL.md" class="" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="中间件"><span class="title">中间件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="中间件"><span class="title">中间件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Redis/Redis.md" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/RabbitMQ/RabbitMQ.md" class="" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="微服务组件"><span class="title">微服务组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="微服务组件"><span class="title">微服务组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/SpringCloud/Nacos/Nacos.md" class="" aria-label="Nacos"><!--[--><!--]--> Nacos <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/SpringCloud/Feign/Feign.md" class="" aria-label="Feign"><!--[--><!--]--> Feign <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/SpringCloud/Gateway/Gateway.md" class="" aria-label="Gateway"><!--[--><!--]--> Gateway <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Git/Git.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Docker/Docker.md" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Hutools/Hutools.md" class="" aria-label="Hutools"><!--[--><!--]--> Hutools <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端技术"><span class="title">前端技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端技术"><span class="title">前端技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Vue2/Vue2.md" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Vue3/Vue3.md" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/JavaScript/JavaScript.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/TypeScript/TypeScript.md" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Nginx/Nginx.md" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Algorithm/AlgorithmBase.md" class="" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Algorithm/LeetCodeAnswer.md" class="" aria-label="LeetCode 题解"><!--[--><!--]--> LeetCode 题解 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Algorithm/LeetCodeRecord.md" class="" aria-label="刷题记录"><!--[--><!--]--> 刷题记录 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Linux/Linux.md" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Shell/ShellScript.md" class="" aria-label="Shell脚本"><!--[--><!--]--> Shell脚本 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="项目"><span class="title">项目</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="项目"><span class="title">项目</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/FullStackNotes/guide/Project/Vue-element.md" class="" aria-label="vue-element-admin"><!--[--><!--]--> vue-element-admin <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其它"><span class="title">其它</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其它"><span class="title">其它</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>设计模式</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/DesignPatterns/Behavior.md" class="" aria-label="行为型"><!--[--><!--]--> 行为型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/DesignPatterns/Create.md" class="" aria-label="创建型"><!--[--><!--]--> 创建型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/DesignPatterns/Structure.md" class="" aria-label="结构型"><!--[--><!--]--> 结构型 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>MarkDown</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/MarkDown/MarkDownCMD.md" class="" aria-label="MarkDown语法"><!--[--><!--]--> MarkDown语法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/MarkDown/MarkDownIcon.md" class="" aria-label="MarkDown图标"><!--[--><!--]--> MarkDown图标 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>实用网站</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/FullStackNotes/guide/WebSite/WebSite.md" class="" aria-label="实用网站汇总"><!--[--><!--]--> 实用网站汇总 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://gitee.com/linwei-zhang/full-stack-notes" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">MyBatis <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#一、概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="一、概述"><!--[--><!--]--> 一、概述 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#什么是mybatis" class="router-link-active router-link-exact-active sidebar-item" aria-label="什么是MyBatis"><!--[--><!--]--> 什么是MyBatis <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#mybatis的优缺点" class="router-link-active router-link-exact-active sidebar-item" aria-label="MyBatis的优缺点"><!--[--><!--]--> MyBatis的优缺点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#orm" class="router-link-active router-link-exact-active sidebar-item" aria-label="ORM"><!--[--><!--]--> ORM <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#二、动态sql" class="router-link-active router-link-exact-active sidebar-item" aria-label="二、动态sql"><!--[--><!--]--> 二、动态sql <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#xml映射文件中标签" class="router-link-active router-link-exact-active sidebar-item" aria-label="Xml映射文件中标签"><!--[--><!--]--> Xml映射文件中标签 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#三、mybatis传参的几种方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="三、MyBatis传参的几种方式"><!--[--><!--]--> 三、MyBatis传参的几种方式 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#传递一个参数" class="router-link-active router-link-exact-active sidebar-item" aria-label="传递一个参数"><!--[--><!--]--> 传递一个参数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#传递一个map参数" class="router-link-active router-link-exact-active sidebar-item" aria-label="传递一个Map参数"><!--[--><!--]--> 传递一个Map参数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#传递一个java对象参数" class="router-link-active router-link-exact-active sidebar-item" aria-label="传递一个java对象参数"><!--[--><!--]--> 传递一个java对象参数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#传递多个参数" class="router-link-active router-link-exact-active sidebar-item" aria-label="传递多个参数"><!--[--><!--]--> 传递多个参数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#传递1个collection参数" class="router-link-active router-link-exact-active sidebar-item" aria-label="传递1个Collection参数"><!--[--><!--]--> 传递1个Collection参数 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#四、mybatis的缓存机制" class="router-link-active router-link-exact-active sidebar-item" aria-label="四、Mybatis的缓存机制"><!--[--><!--]--> 四、Mybatis的缓存机制 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#一级缓存" class="router-link-active router-link-exact-active sidebar-item" aria-label="一级缓存"><!--[--><!--]--> 一级缓存 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#二级缓存" class="router-link-active router-link-exact-active sidebar-item" aria-label="二级缓存"><!--[--><!--]--> 二级缓存 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#一二级缓存共存时查询原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="一二级缓存共存时查询原理"><!--[--><!--]--> 一二级缓存共存时查询原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#清空或者跳过二级缓存的3种方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="清空或者跳过二级缓存的3种方式"><!--[--><!--]--> 清空或者跳过二级缓存的3种方式 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#五、mybatis获取主键的几种方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="五、MyBatis获取主键的几种方式"><!--[--><!--]--> 五、MyBatis获取主键的几种方式 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#方式一-配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="方式一：配置"><!--[--><!--]--> 方式一：配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#方式二-插入后查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="方式二：插入后查询"><!--[--><!--]--> 方式二：插入后查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#六、mybatis-延迟加载" class="router-link-active router-link-exact-active sidebar-item" aria-label="六、MyBatis 延迟加载"><!--[--><!--]--> 六、MyBatis 延迟加载 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#延迟加载的基本原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="延迟加载的基本原理"><!--[--><!--]--> 延迟加载的基本原理 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#七、其它" class="router-link-active router-link-exact-active sidebar-item" aria-label="七、其它"><!--[--><!--]--> 七、其它 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#dao-接口里的方法-参数不同时能重载吗" class="router-link-active router-link-exact-active sidebar-item" aria-label="Dao 接口里的方法，参数不同时能重载吗"><!--[--><!--]--> Dao 接口里的方法，参数不同时能重载吗 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#不同的-xml-映射文件-id是否可以重复" class="router-link-active router-link-exact-active sidebar-item" aria-label="不同的 xml 映射文件，id是否可以重复"><!--[--><!--]--> 不同的 xml 映射文件，id是否可以重复 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#和-的区别是什么" class="router-link-active router-link-exact-active sidebar-item" aria-label="#{} 和 ${} 的区别是什么"><!--[--><!--]--> #{} 和 ${} 的区别是什么 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#当实体类中的属性名和表中的字段名不一样时怎么办" class="router-link-active router-link-exact-active sidebar-item" aria-label="当实体类中的属性名和表中的字段名不一样时怎么办"><!--[--><!--]--> 当实体类中的属性名和表中的字段名不一样时怎么办 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#mybatis-的手动编程步骤" class="router-link-active router-link-exact-active sidebar-item" aria-label="MyBatis 的手动编程步骤"><!--[--><!--]--> MyBatis 的手动编程步骤 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#mybatis-工作的流程" class="router-link-active router-link-exact-active sidebar-item" aria-label="MyBatis 工作的流程"><!--[--><!--]--> MyBatis 工作的流程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#增删改返回值说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="增删改返回值说明"><!--[--><!--]--> 增删改返回值说明 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#mapper接口的原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="Mapper接口的原理"><!--[--><!--]--> Mapper接口的原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#mybatis分页" class="router-link-active router-link-exact-active sidebar-item" aria-label="MyBatis分页"><!--[--><!--]--> MyBatis分页 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#分页插件的基本原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="分页插件的基本原理？"><!--[--><!--]--> 分页插件的基本原理？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/FullStackNotes/guide/JavaFrame/MyBatis.html#简述mybatis的插件运行原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="简述Mybatis的插件运行原理？"><!--[--><!--]--> 简述Mybatis的插件运行原理？ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="mybatis" tabindex="-1"><a class="header-anchor" href="#mybatis" aria-hidden="true">#</a> MyBatis</h1><h2 id="一、概述" tabindex="-1"><a class="header-anchor" href="#一、概述" aria-hidden="true">#</a> 一、概述</h2><h3 id="什么是mybatis" tabindex="-1"><a class="header-anchor" href="#什么是mybatis" aria-hidden="true">#</a> 什么是MyBatis</h3><p>MyBatis 是一款优秀的持久层框架，它支持自定义 SQL</p><p>MyBatis 免除了几乎所有的 JDBC 代码以及设置参数和获取结果集的工作</p><p>MyBatis 可以通过简单的 XML 或注解来配置和映射原始类型、接口和 Java POJO（Plain Old Java Objects， 普通老式 Java 对象）为数据库中的记录。</p><p>MyBatis 是一个半自动化的ORM框架，因为他需要我们自己去写sql</p><h3 id="mybatis的优缺点" tabindex="-1"><a class="header-anchor" href="#mybatis的优缺点" aria-hidden="true">#</a> MyBatis的优缺点</h3><p>优点：</p><ul><li>基于SQL语句编程，相当灵活，SQL写在XML里，解除 sql与程序代码的耦合，便于统一管理，支持编写动态SQL语句</li><li>与JDBC相比，减少了50%以上的代码量，消除了JDBC大量冗余的代码，不需要手动开关连接</li><li>很好的与各种数据库兼容（因为MyBatis使用JDBC来连接数据库，所以只要JDBC支持的数据库MyBatis都支 持）</li><li>能够与Spring很好的集成</li><li>提供映射标签，支持对象与数据库的ORM字段关系映射</li></ul><p>缺点：</p><ul><li>SQL语句的编写工作量较大，尤其当字段多、关联表多时，对开发人员编写SQL语句的功底有一定要求</li><li>SQL语句依赖于数据库，导致数据库移植性差，不能随意更换数据库</li></ul><h3 id="orm" tabindex="-1"><a class="header-anchor" href="#orm" aria-hidden="true">#</a> ORM</h3><p>**ORM（Object Relational Mapping）：**对象关系映射，简单点说就是将数据库中的表和java中的对象 建立映射关系，可以让我们操作对象来间接的操作数据库</p><h2 id="二、动态sql" tabindex="-1"><a class="header-anchor" href="#二、动态sql" aria-hidden="true">#</a> 二、动态sql</h2><p>MyBatis 动态sql可以在Xml映射文件内，以标签的形式编写动态sql，执行原理是根据表达式的值完成逻辑判断并动态调整sql的功能</p><p>Mybatis提供了9种动态sql标签： <code>trim | where | set | foreach | if | choose | when | otherwise | bind</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 
	if
	相当于 java 中的 if 判断
 	test的值为一个判断表达式，当test成立的时候，if体内部的sql会被拼接上
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>判断条件<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
需要追加的sql
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 
	choose/when/otherwise
	相当于 java 中的 if..else if..else
 	choose内部的条件满足一个，choose内部的sql拼接就会结束
	otherwise属于可选的，当所有条件都不满足的时候，otherwise将起效
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>条件1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		满足条件1追加的sql
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>条件2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		满足条件2追加的sql
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>
		都不满足追加的sql
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 
	where
	当使用where元素的时候，mybatis会将where内部拼接的sql进行处理，
	会将这部分sql前面的 AND 或者 OR 给去掉，并在前面追加一个where
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getList1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.javacode2018.chat05.demo8.model.UserModel<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
SELECT id,name,age FROM t_user
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND id = #{id}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name!=null and name.toString()!=&#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND name = #{name}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND age = #{age}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 
	set
	我们将sql中的set去掉了，加了个set元素，set元素会对其内部拼接的sql进行处理，
	会将这部分sql前后的逗号给去掉并在前面加上 set
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>update1<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.javacode2018.chat05.demo8.model.UserModel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	UPDATE t_user
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			name = #{name},
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			age = #{age},
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    		AND id = #{id}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 
	trim
	语法：
		&lt;trim prefix=&quot;&quot; prefixOverrides=&quot;&quot; suffix=&quot;&quot; suffixOverrides=&quot;&quot;&gt;
		&lt;/trim&gt;
	trim元素内部可以包含各种动态sql，如where、chose、sql等各种元素，使用trim包含的元素，
	mybatis处理过程：
		1. 先对trim内部的sql进行拼接，比如这部分sql叫做sql1
		2. 将sql1字符串前面的部分中包含trim的prefixOverrides指定的部分给去掉，得到sql2
		3. 将sql2字符串后面的部分中包含trim的suffixOverrides指定的部分给去掉，得到sql3
		4. 在sql3前面追加trim中prefix指定的值，得到sql4
		5. 在sql4后面追加trim中suffix指定的值，得到最终需要拼接的sql5
	prefixOverrides的值的写法，如果有多个需要覆盖的之间用 | 进行分割，suffixOverrides
	写法和prefixOverrides的写法类似
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getList1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.javacode2018.chat05.demo8.model.UserModel<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	SELECT id,name,age FROM t_user
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>where<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prefixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>and|or<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND id = #{id}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name!=null and name.toString()!=&#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND name = #{name}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND age = #{age}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>update1<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.javacode2018.chat05.demo8.model.UserModel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	UPDATE t_user
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SET<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prefixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">suffixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			name = #{name},
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			age = #{age},
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND id = #{id}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 
	foreach
	相当于java中的循环，可以用来遍历数组、集合、map等
	语法：
		&lt;foreach collection=&quot;需要遍历的集合&quot; item=&quot;集合中当前元素&quot; index=&quot;&quot; open=&quot;&quot;
			separator=&quot;每次遍历的分隔符&quot; close=&quot;&quot;&gt;
			动态sql部分
		&lt;/foreach&gt;
	collection：可以是一个List、Set、Map或者数组
	item：集合中的当前元素的引用
	index：用来访问当前元素在集合中的位置
	separator：各个元素之间的分隔符
	open和close用来配置最后用什么前缀和后缀将foreach内部所有拼接的sql给包装起来
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getList1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.javacode2018.chat05.demo8.model.UserModel<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	SELECT id,name,age FROM t_user
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND id = #{id}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name!=null and name.toString()!=&#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND name = #{name}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND age = #{age}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>idList!=null and idList.size()&gt;=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>idList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AND id in (<span class="token punctuation">&quot;</span></span>
				<span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				#{id}
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertBatch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	INSERT INTO t_user (id,name,age) VALUES
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>collection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		(#{item.id}, #{item.name}, #{item.age})
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 
	sql/include
	这两2个元素一般进行配合使用，可以实现代码重用的效果
	sql元素可以用来定义一段动态sql，语法如下：
		&lt;sql id=&quot;sql片段id&quot;&gt;
			各种动态sql
		&lt;/sql&gt;
	其他地方需要使用的时候需要通过include关键字进行引入
		&lt;include refid=&quot;需要引入的sql片段的id&quot;/&gt;
	注意：refid值的写法，refid的值为mapper xml的 namespace的值.sql的id ，
		如果在同一个mapper中，namespace可以省略，直接写对应的sql的id就可以了
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findSql<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND id = #{id}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name!=null and name.toString()!=&#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND name = #{name}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			AND age = #{age}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>idList!=null and idList.size()&gt;=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>idList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AND id in (<span class="token punctuation">&quot;</span></span>
			<span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				#{id}
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getList1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.javacode2018.chat05.demo8.model.UserModel<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	SELECT id,name,age FROM t_user
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.javacode2018.chat05.demo8.mapper.UserMapper.findSql<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getList1Count<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.javacode2018.chat05.demo8.model.UserModel<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	SELECT count(*) FROM t_user
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findSql<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 
	bind
	bind元素允许我们通过ognl表达式在上下文中自定义一个变量，最后在动态sql中可以使用这个变量
	语法：&lt;bind name=&quot;变量名称&quot; value=&quot;ognl表达式&quot;&gt;
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>likeName!=null and likeName.trim()!=&#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bind</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nameLike<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>%&#39;+likeName.trim()+&#39;%&#39;<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
	AND name like #{nameLike}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="xml映射文件中标签" tabindex="-1"><a class="header-anchor" href="#xml映射文件中标签" aria-hidden="true">#</a> Xml映射文件中标签</h3><p>除了常见的<code>select</code>|<code>insert</code>|<code>updae</code>|<code>delete</code>标签之外，</p><p>还有：<code>&lt;resultMap&gt;、&lt;parameterMap&gt;、&lt;sql&gt;、&lt;include&gt;、&lt;selectKey&gt;</code> ，加上动态<code>sql</code>的9个标签，其中 为<code>sql</code>片段标签，通过<code>&lt;include&gt;</code> 标签引入sql片</p><p>段，<code>&lt;selectKey&gt;</code> 为不支持自增的主键生成策略标签。</p><h2 id="三、mybatis传参的几种方式" tabindex="-1"><a class="header-anchor" href="#三、mybatis传参的几种方式" aria-hidden="true">#</a> 三、MyBatis传参的几种方式</h2><h3 id="传递一个参数" tabindex="-1"><a class="header-anchor" href="#传递一个参数" aria-hidden="true">#</a> <strong>传递一个参数</strong></h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">User</span> <span class="token function">getByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>Mapper.xml</code>引用这个<code>name</code>参数：<code>#{任意合法名称}</code></p><ul><li>当一个参数的 时候 <code>#{变量名称}</code> 中变量名称可以随意写，都可以取到传入的参数</li></ul><h3 id="传递一个map参数" tabindex="-1"><a class="header-anchor" href="#传递一个map参数" aria-hidden="true">#</a> <strong>传递一个Map参数</strong></h3><p>如果我们需要传递的参数比较多，参数个数是动态的，那么我们可以将这些参数放在一个<code>map</code>中，<code>key</code> 为参数名称，<code>value</code>为参数的值</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//我们传递</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张学友&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Mapper接口中可以这么定义</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getByMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//对应的mapper xml中可以通过 #{map中的key} 可以获取key在map中对应的value的值作为参数</span>
<span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> t_user <span class="token class-name">WHERE</span> id<span class="token operator">=</span>#<span class="token punctuation">{</span>id<span class="token punctuation">}</span> <span class="token class-name">OR</span> name <span class="token operator">=</span> #<span class="token punctuation">{</span>name<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="传递一个java对象参数" tabindex="-1"><a class="header-anchor" href="#传递一个java对象参数" aria-hidden="true">#</a> <strong>传递一个java对象参数</strong></h3><p>当参数比较多，但是具体有多少个参数我们是确定的时候，我们可以将这些参数放在一个<code>javabean</code>对象 中</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//Mapper</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserModel</span><span class="token punctuation">&gt;</span></span> <span class="token function">getListByUserFindDto</span><span class="token punctuation">(</span><span class="token class-name">UserFindDto</span> userFindDto<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//对应的UserMapper.xml中这么写</span>
<span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">&quot;getListByUserFindDto&quot;</span>
	parameterType<span class="token operator">=</span><span class="token string">&quot;com.javacode2018.chat03.demo4.dto.UserFindDto&quot;</span>
	resultType<span class="token operator">=</span><span class="token string">&quot;com.javacode2018.chat03.demo4.model.UserModel&quot;</span><span class="token operator">&gt;</span>
    
	<span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> t_user <span class="token class-name">WHERE</span> id<span class="token operator">=</span>#<span class="token punctuation">{</span>userId<span class="token punctuation">}</span> <span class="token class-name">OR</span> name <span class="token operator">=</span> #<span class="token punctuation">{</span>userName<span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>传递<code>java</code>对象的方式相对于<code>map</code>的方式更清晰一些，可以明确知道具体有哪些参数，而传递<code>map</code>，我们是不知道这个<code>map</code>中具体需要哪些参数的，<code>map</code>对参数也没有约束，参数可以随意传，建议多个参 数的情况下选择通过<code>java</code>对象进行传参</li></ul><h3 id="传递多个参数" tabindex="-1"><a class="header-anchor" href="#传递多个参数" aria-hidden="true">#</a> 传递多个参数</h3><p>上面我们介绍的都是传递一个参数，那么是否可以传递多个参数呢？我们来试试吧</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//Mapper</span>
<span class="token class-name">UserModel</span> <span class="token function">getByIdOrName</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Mapper.xml</span>
<span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">&quot;getByIdOrName&quot;</span>
	resultType<span class="token operator">=</span><span class="token string">&quot;com.javacode2018.chat03.demo4.model.UserModel&quot;</span><span class="token operator">&gt;</span>

	<span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> t_user <span class="token class-name">WHERE</span> id<span class="token operator">=</span>#<span class="token punctuation">{</span>id<span class="token punctuation">}</span> <span class="token class-name">OR</span> name <span class="token operator">=</span> #<span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token constant">LIMIT</span> <span class="token number">1</span>  <span class="token comment">//报错 Available parameters are [arg1, arg0, param1, param2]</span>
	<span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> t_user <span class="token class-name">WHERE</span> id<span class="token operator">=</span>#<span class="token punctuation">{</span>arg0<span class="token punctuation">}</span> <span class="token class-name">OR</span> name <span class="token operator">=</span> #<span class="token punctuation">{</span>arg1<span class="token punctuation">}</span> <span class="token constant">LIMIT</span> <span class="token number">1</span>  <span class="token comment">//正常</span>
    <span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> t_user <span class="token class-name">WHERE</span> id<span class="token operator">=</span>#<span class="token punctuation">{</span>param1<span class="token punctuation">}</span> <span class="token class-name">OR</span> name <span class="token operator">=</span> #<span class="token punctuation">{</span>param2<span class="token punctuation">}</span> <span class="token constant">LIMIT</span> <span class="token number">1</span>  <span class="token comment">//正常</span>
    
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>mybatis处理多个参数的时候，会将多个参数封装到一个map中，map的key为参数的名称，java可以通 过反射获取方法参数的名称</li><li>编译之后，方法参数的名称通过反射获取的并不是 <code>id</code>、<code>name</code> ，而是 <code>arg0</code>、<code>arg1</code></li><li>也就是说编译之 后，方法真实的参数名称会丢失，会变成 arg+参数下标 的格式</li></ul><h3 id="传递1个collection参数" tabindex="-1"><a class="header-anchor" href="#传递1个collection参数" aria-hidden="true">#</a> 传递1个Collection参数</h3><p>当传递的参数类型是 java.util.Collection 的时候，会被放在<code>map</code>中，<code>key</code>为 <code>collection</code> ，<code>value</code> 为参数的值</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//Mapper</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserModel</span><span class="token punctuation">&gt;</span></span> <span class="token function">getListByIdCollection</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> idCollection<span class="token punctuation">)</span>
    
<span class="token comment">//xml</span>
<span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">&quot;getListByIdCollection&quot;</span>
resultType<span class="token operator">=</span><span class="token string">&quot;com.javacode2018.chat03.demo4.model.UserModel&quot;</span><span class="token operator">&gt;</span>

	<span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> t_user <span class="token constant">WHERE</span> id <span class="token constant">IN</span> <span class="token punctuation">(</span>#<span class="token punctuation">{</span>collection<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>#<span class="token punctuation">{</span>collection<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>集合参数，<code>mybatis</code>会进行一些特殊处理,源码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">Object</span> <span class="token function">wrapCollection</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Object</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token keyword">instanceof</span> <span class="token class-name">Collection</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">StrictMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StrictMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;collection&quot;</span><span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token keyword">instanceof</span> <span class="token class-name">List</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> map<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> object<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">StrictMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StrictMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> map<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> object<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>判断参数是否是 <code>java.util.Collection</code> 类型，如果是，会放在<code>map</code>中，key为 <code>collection</code> 。</li><li>如果参数是 <code>java.util.List</code> 类型的，会在<code>map</code>中继续放一个 <code>list</code> 作为<code>key</code>来引用这个对象。</li><li>如果参数是数组类型的，会通过 <code>array</code> 来引用这个对象</li></ul><h2 id="四、mybatis的缓存机制" tabindex="-1"><a class="header-anchor" href="#四、mybatis的缓存机制" aria-hidden="true">#</a> 四、Mybatis的缓存机制</h2><p><code>mybatis</code>中分为一级缓存和二级缓存</p><h3 id="一级缓存" tabindex="-1"><a class="header-anchor" href="#一级缓存" aria-hidden="true">#</a> <strong>一级缓存</strong></h3><p>​ 是<code>SqlSession</code>级别的缓存，在操作数据库时需要构造 <code>sqlSession</code>对象，在对象中有一个数据结 构（HashMap）用于存储缓存数据，不同的<code>sqlSession</code>之</p><p>​ 间的缓存数据区域（<code>HashMap</code>）是互相不影响的，<code>mybatis</code>中一级缓存是默认自动开启的</p><p>工作原理：</p><p>​ 在同一个<code>SqlSession</code>中去多次去执行同样的查询，每次执行的时候会先到一级缓存 中查找，如果缓存中有就直接返回，如果一级缓存中没有相关数据，<code>mybatis</code></p><p>​ 就会去<code>db</code>中进行查找，然 后将查找到的数据放入一级缓存中，第二次执行同样的查询的时候，会发现缓存中已经存在了，会直接 返回。一级缓存的存储介质是</p><p>​ 内存，是用一个<code>HashMap</code>来存储数据的，所以访问速度是非常快的</p><p>让一级缓存失效有3种方式：</p><ol><li><code>SqlSession</code>中执行增、删、改操作，此时<code>sqlsession</code>会自动清理其内部的一级缓存</li><li>调用<code>SqlSession</code>中的<code>clearCache</code>方法清理其内部的一级缓存</li><li>设置<code>Mapper</code> <code>xml</code>中<code>select</code>元素的<code>flushCache</code>属性值为<code>true</code>，那么执行查询的时候会先清空一级 缓存中的所有数据，然后去<code>db</code>中获取数据</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>一级缓存使用上存在局限性，必须要在同一个SqlSession中执行同样的查询，一级缓存才能提升查询速
度，如果想在不同的SqlSession之间使用缓存来加快查询速度，此时我们需要用到二级缓存了。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二级缓存" tabindex="-1"><a class="header-anchor" href="#二级缓存" aria-hidden="true">#</a> <strong>二级缓存</strong></h3><p>​ 二级缓存是<code>mapper</code>级别的缓存，每个<code>mapper.xml</code>有个<code>namespace</code>，二级缓存和<code>namespace</code>绑定的， 每个<code>namespace</code>关联一个二级缓存，多个<code>SqlSession</code>可</p><p>​ 以共用二级缓存，二级缓存是跨<code>SqlSession</code>的</p><p>​ 二级缓存默认是没有开启的，需要我们在<code>mybatis</code>全局配置文件中进行开启</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 开启二级缓存 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cacheEnabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 上面配置好了以后，还需要在对应的mapper.xml加上下面配置，表示这个mapper中的查询开启二级缓存 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="一二级缓存共存时查询原理" tabindex="-1"><a class="header-anchor" href="#一二级缓存共存时查询原理" aria-hidden="true">#</a> <strong>一二级缓存共存时查询原理</strong></h3><ol><li>当发起一个查询的时候，<code>mybatis</code>会先访问这个<code>namespace</code>对应的二级缓存，如果二级缓存中有 数据则直接返回，否则继续向下</li><li>查询一级缓存中是否有对应的数据，如果有则直接返回，否则继续向下</li><li>访问db获取需要的数据，然后放在当前<code>SqlSession</code>对应的二级缓存中，并且在本地内存中的另外 一个地方存储一份（这个地方我们就叫<code>TransactionalCache</code>）</li><li>当<code>SqlSession</code>关闭的时候，也就是调用<code>SqlSession</code>的<code>close</code>方法的时候，此时会将 <code>TransactionalCache</code>中的数据放到二级缓存中，并且会清空当前<code>SqlSession</code>一级缓存中的数据</li></ol><h3 id="清空或者跳过二级缓存的3种方式" tabindex="-1"><a class="header-anchor" href="#清空或者跳过二级缓存的3种方式" aria-hidden="true">#</a> <strong>清空或者跳过二级缓存的3种方式</strong></h3><p>1.对应的<code>mapper</code>中执行增删改查会清空二级缓存中数据</p><ol start="2"><li><code>select</code>元素的<code>flushCache</code>属性置为<code>true</code>，会先清空二级缓存中的数据，然后再去<code>db</code>中查询数据， 然后将数据再放到二级缓存中</li><li>select元素的<code>useCache</code>属性置为<code>true</code>，可以使这个查询跳过二级缓存，然后去查询数据</li></ol><h2 id="五、mybatis获取主键的几种方式" tabindex="-1"><a class="header-anchor" href="#五、mybatis获取主键的几种方式" aria-hidden="true">#</a> 五、MyBatis获取主键的几种方式</h2><h3 id="方式一-配置" tabindex="-1"><a class="header-anchor" href="#方式一-配置" aria-hidden="true">#</a> 方式一：配置</h3><p>配置<code>useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;</code></p><p>我们需要在<code>Mapper.xml</code>中进行配置</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertUser1<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

INSERT INTO t_user (name,age,salary,sex) VALUES (#{name},#{age},#{salary},#{sex})

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>useGeneratedKeys</code>：设置为<code>true</code></li><li><code>keyProperty</code>：参数对象中的属性名称，最后插入成功之后，<code>mybatis</code>会通过反射将自增值设置给 <code>keyProperty</code>指定的这个属性</li></ul><h3 id="方式二-插入后查询" tabindex="-1"><a class="header-anchor" href="#方式二-插入后查询" aria-hidden="true">#</a> 方式二：插入后查询</h3><p>插入后查询获取主键</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertUser2<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.javacode2018.chat04.demo1.model.UserModel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selectKey</span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">order</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AFTER<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>long<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
SELECT LAST_INSERT_ID()
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selectKey</span><span class="token punctuation">&gt;</span></span>

INSERT INTO t_user (name,age,salary,sex) VALUES (#{name},#{age},#{salary},#{sex})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>selectKey</code> 元素有3个属性需要指定</p><ul><li><code>keyProperty</code>：参数对象中的属性名称，最后插入成功之后，<code>mybatis</code>会通过反射将自增值设置给 <code>keyProperty</code>指定的这个属性</li><li><code>order</code>：指定<code>selectKey</code>元素中的<code>sql</code>是在插入之前运行还是插入之后运行，可选值 （<code>BEFORE</code>|<code>AFTER</code>）</li><li><code>resultType</code>：<code>keyProperty</code>指定的属性对应的类型，如上面的<code>id</code>对应的类型是 java.lang.Long ， 我们直接写的是别名 long</li></ul><h2 id="六、mybatis-延迟加载" tabindex="-1"><a class="header-anchor" href="#六、mybatis-延迟加载" aria-hidden="true">#</a> 六、MyBatis 延迟加载</h2><p><code>Mybatis</code>仅支持<code>association</code>关联对象和<code>collection</code>关联集合对象的延迟加载，</p><blockquote><p><code>association</code>指的就是一对一， <code>collection</code>指的就是一对多查询。</p></blockquote><p>在<code>Mybatis</code>配置文件中，<strong>可以全局配置是否启用延迟加载</strong></p><ul><li><p>​ <code>lazyLoadingEnabled</code>：这个属性比较好理解，是否开启延迟加载，默认为<code>false</code>，如果需要开启延迟加载，将其设置为<code>true</code></p></li><li><p>​ <code>aggressiveLazyLoading</code>：当为<code>true</code>的时候，调用任意延迟属性，会去加载所有延迟属性，如果为 <code>false</code>，则调用某个属性的时候，只会加载指定的属性</p></li></ul><p>全局的方式会对所有的关联查询起效，影响范围比较大，<code>mybatis</code>也提供了在关联查询中进行设置的方 式，只会对当前设置的关联查询起效。</p><p>关联查询，一般我们使用 <code>association</code>、<code>collection</code> ，这两个元素都有个属性 <code>fetchType</code> ，通过这个 属性可以指定关联查询的加载方式</p><p>​ <code>fetchType</code>值有2种，</p><ul><li><code>eager</code>：立即加载；</li><li><code>lazy</code>：延迟加载。</li></ul><h3 id="延迟加载的基本原理" tabindex="-1"><a class="header-anchor" href="#延迟加载的基本原理" aria-hidden="true">#</a> 延迟加载的基本原理</h3><p>比如：查询订单并且关联查询用户信息。如果先查询订单信息即可满足要求，当我们需要查询用户信息时再查询用户信息。</p><p>把对用户信息的按需去查询就是延迟加载 。</p><p>所以延迟加载即先从单表查询、需要时再从关联表去关联查 询，大大提高数据库性能，因为查询单表要比关联查询多张表速度要快</p><h2 id="七、其它" tabindex="-1"><a class="header-anchor" href="#七、其它" aria-hidden="true">#</a> 七、其它</h2><h3 id="dao-接口里的方法-参数不同时能重载吗" tabindex="-1"><a class="header-anchor" href="#dao-接口里的方法-参数不同时能重载吗" aria-hidden="true">#</a> Dao 接口里的方法，参数不同时能重载吗</h3><p>不能重载。</p><p>因为 <code>xml</code> 中的<code>id</code>和方法名是对应的，如果方法重载了，那就对应会出现两个相同的<code>id</code>，在 <code>xml</code> 中会报错 的。</p><p>再往深的说，在<code>MyBatis</code>源码中，会以方法名为<code>key</code>（也就是xml中的id），存放在<code>map</code>中，<code>map</code>的<code>key</code>是不能 重复的。</p><h3 id="不同的-xml-映射文件-id是否可以重复" tabindex="-1"><a class="header-anchor" href="#不同的-xml-映射文件-id是否可以重复" aria-hidden="true">#</a> 不同的 xml 映射文件，id是否可以重复</h3><p>不同的 <code>xml</code> 映射文件，如果配置了 <code>namespace</code> ，那么<code>id</code>可以重复；</p><p>如果没有配置<code>namespace</code>，那么<code>id</code>不能重复；</p><p>原因就是 <code>namespace+id</code> 是作为 <code>Map</code> 的<code>key</code>使用的，如果没有 <code>namespace</code> ，就剩下<code>id</code>， 那么，<code>id</code>重复会导致数据互相覆盖。</p><p>有了 <code>namespace</code> ，自然<code>id</code>就可以重复， <code>namespace</code> 不同， <code>namespace+id</code> 自然 也就不同。</p><h3 id="和-的区别是什么" tabindex="-1"><a class="header-anchor" href="#和-的区别是什么" aria-hidden="true">#</a> #{} 和 ${} 的区别是什么</h3><p><code>\#{}</code>:为参数占位符 <code>？</code>，即<code>sql</code>预编译，将<code>sql</code> 中的 <code>#{}</code> 替换为 <code>?</code> 号 ，然后对他进行赋值，可以 防止<code>sql</code>注入</p><p><code>${}</code>:为字符串替换， 就是把 <code>{}</code> 直接替换成变量的值，不能防止<code>sql</code>注入。</p><h3 id="当实体类中的属性名和表中的字段名不一样时怎么办" tabindex="-1"><a class="header-anchor" href="#当实体类中的属性名和表中的字段名不一样时怎么办" aria-hidden="true">#</a> 当实体类中的属性名和表中的字段名不一样时怎么办</h3><p>**第 1 种：**定义别名</p><p>​ 通过在查询的 sql 语句中定义字段名的别名，让字段名的别名和实体类的属性名一致</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	select id, name as userName, pwd as password from m_user
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			id = #{id}
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**第 2 种：**通过 来映射字段名和实体类属性名的一一对应的关系</p><p>**第 3 种：**使用注解时候，使用Result，和第二种类似</p><h3 id="mybatis-的手动编程步骤" tabindex="-1"><a class="header-anchor" href="#mybatis-的手动编程步骤" aria-hidden="true">#</a> MyBatis 的手动编程步骤</h3><ol><li>创建 SqlSessionFactory</li><li>通过 SqlSessionFactory 创建 SqlSession</li><li>通过 sqlsession 执行数据库操作</li><li>调用 session.commit()提交事务</li><li>调用 session.close()关闭会话</li></ol><h3 id="mybatis-工作的流程" tabindex="-1"><a class="header-anchor" href="#mybatis-工作的流程" aria-hidden="true">#</a> MyBatis 工作的流程</h3><p>1.加载配置并初始化</p><p>2.接收调用请求</p><p>3.处理操作请求 触发条件</p><p>4.返回处理结果</p><h3 id="增删改返回值说明" tabindex="-1"><a class="header-anchor" href="#增删改返回值说明" aria-hidden="true">#</a> 增删改返回值说明</h3><p>插入成功1行返回结果就是1，删除了10行记录，返回就是10，更新了5行记录，返回的就是 5</p><h3 id="mapper接口的原理" tabindex="-1"><a class="header-anchor" href="#mapper接口的原理" aria-hidden="true">#</a> Mapper接口的原理</h3><p>使用<code>java</code>中的动态代理实现的，<code>mybatis</code>启动的时候会加载全局配置文件</p><p>然后解析这个文件中的 <code>mapper</code>元素指定的UserMapper.xml ，会根据 UserMapper.xml的<code>namespace</code>的 值 创建这个接口的一个动态代理</p><p>主要使用<code>java</code>中的<code>Proxy</code>实现的， 使用 <code>java.lang.reflect.Proxy</code> 类中的 <code>newProxyInstance</code> 方法，我们可以创建任意一个接口的一个 代理对象</p><h3 id="mybatis分页" tabindex="-1"><a class="header-anchor" href="#mybatis分页" aria-hidden="true">#</a> MyBatis分页</h3><p><code>MyBatis</code> 使用<code>RowBounds</code>对象进行分页，它是针对<code>ResultSet</code>结果集执行的内存分页，而非物理分页，先把数据都 查出来，然后再做分页</p><p>可以在<code>sql</code>内直接书写带有物理分页的参数来完成物理分页功能，也可以使用分页插件来完成物理分页</p><h3 id="分页插件的基本原理" tabindex="-1"><a class="header-anchor" href="#分页插件的基本原理" aria-hidden="true">#</a> 分页插件的基本原理？</h3><p>使用<code>Mybatis</code>提供的插件接口，实现自定义插件，在插件的拦截方法内拦截待执行的<code>sql</code>，然后重写<code>sql</code>根据<code>dialect</code>方言，添加对应的物理分页语句和物理分页参数</p><h3 id="简述mybatis的插件运行原理" tabindex="-1"><a class="header-anchor" href="#简述mybatis的插件运行原理" aria-hidden="true">#</a> 简述Mybatis的插件运行原理？</h3><p><code>MyBatis</code> 仅可以编写针对<code>ParameterHandler</code>、<code>ResultSetHandler</code>、<code>StatementHandler</code>、<code>Executor</code>这4种接口的插件</p><p><code>MyBatis</code> 使用<code>JDK</code>的动态代理，为需要拦截的接口生成代理对象以实现接口方法拦截功能，每当执行这4种接口对象的方法时，就会进入拦截方法，具体就是<code>InvocationHandler</code>的<code>invoke()</code>方法，当然，只会拦截那些你指定需要拦截的方法</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3498729975@qq.com">zhanglinwei</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/FullStackNotes/assets/app-db6a7b71.js" defer></script>
  </body>
</html>
