---
title: MyBatis延迟加载
---

# 目录

[[toc]]

## MyBatis 是否支持延迟加载

`Mybatis`仅支持`association`关联对象和`collection`关联集合对象的延迟加载，

> `association`指的就是一对一， `collection`指的就是一对多查询。

在`Mybatis`配置文件中，**可以全局配置是否启用延迟加载** 

- ​	`lazyLoadingEnabled`：这个属性比较好理解，是否开启延迟加载，默认为`false`，如果需要开启延迟加载，将其设置为`true`

- ​	`aggressiveLazyLoading`：当为`true`的时候，调用任意延迟属性，会去加载所有延迟属性，如果为 `false`，则调用某个属性的时候，只会加载指定的属性


全局的方式会对所有的关联查询起效，影响范围比较大，`mybatis`也提供了在关联查询中进行设置的方 式，只会对当前设置的关联查询起效。 

关联查询，一般我们使用 `association`、`collection` ，这两个元素都有个属性 `fetchType` ，通过这个 属性可以指定关联查询的加载方式

​	`fetchType`值有2种，

- `eager`：立即加载；
- `lazy`：延迟加载。



## 延迟加载的基本原理

比如：查询订单并且关联查询用户信息。如果先查询订单信息即可满足要求，当我们需要查询用户信息时再查询用户信息。

把对用户信息的按需去查询就是延迟加载 。 

所以延迟加载即先从单表查询、需要时再从关联表去关联查 询，大大提高数据库性能，因为查询单表要比关联查询多张表速度要快

















































































































































