<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/quantou.png"><title>1、安装Docker | FullStackNotes</title><meta name="description" content="这是我的全栈学习笔记">
    <link rel="preload" href="/full-stack-notes/assets/style-0f807707.css" as="style"><link rel="stylesheet" href="/full-stack-notes/assets/style-0f807707.css">
    <link rel="modulepreload" href="/full-stack-notes/assets/app-afaa926e.js"><link rel="modulepreload" href="/full-stack-notes/assets/framework-5866ffd3.js"><link rel="modulepreload" href="/full-stack-notes/assets/Docker.html-8a15de56.js"><link rel="modulepreload" href="/full-stack-notes/assets/Docker.html-b2dd388d.js"><link rel="prefetch" href="/full-stack-notes/assets/ctest.html-05517898.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/index.html-db2dbdf8.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LeetCode.html-e4ed08db.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DesignPatterns.html-b20e9597.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerBase.html-9523ebe0.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerCommand.html-b4b60ae3.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerCompose.html-2deee1d4.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerFile.html-c10fa45a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerRepository.html-4d7cf632.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InstallDocker.html-4e798851.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InstallDockerCompose.html-9cabadc5.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Collection.html-4f0e9f49.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/JavaBase.html-8a04530a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Git - 副本.html-2581c04c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Git.html-8417ddf2.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ControlStatement.html-f0ecc8d6.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Modular.html-48eb00b5.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/OperatorsAndExpressions.html-7f0c3f51.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VariablesAndTypes.html-9643c9d9.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ClassLoader.html-87871989.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/JVMMemory.html-1e1b99b3.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ObjectIsDie.html-39e8c102.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RecyclingAlgorithm.html-b1d50bdc.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Linux.html-bead2818.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LinuxBase.html-d7b8bdd6.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LinuxCommons.html-f0361eb7.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LinuxToc.html-fc16bb08.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VIBottomLineMode.html-350d6dec.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VICommandMode.html-34458bd3.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DelayLoad.html-4efc3cfa.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/GetPrimaryKey.html-cd53f0de.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/KnowledgePoints.html-f64910f3.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MyBatis.html-1d5a908d.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MyBatisCache.html-053c2eec.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/PassParameters.html-b12e905d.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SQLLabel.html-a9ee9232.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Constraint.html-d0440113.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DataType.html-f84ff92b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DCL.html-0b5e03a7.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DDL.html-46b09593.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DML.html-3396895a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DQL.html-1ab3cee7.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Engine.html-2fb7f8c3.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Function.html-7be67d0f.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LinuxInstall.html-98df64ad.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Lock.html-1e3467e5.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MultiTableQuery.html-78a33685.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MySQL.html-acc1cd95.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MySQLIndex.html-194e8f59.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Operator.html-13967c0e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Permissions.html-9da414fa.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SQLOptimization.html-21335f36.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Transactional.html-3829d04c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Utils.html-a1c3fb09.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/WindowsInstall.html-b6b100d6.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ArbitrationQueue.html-fe8789ab.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DelayQueue.html-ba2b1836.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InstallMQ.html-eb380183.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LazyQueue.html-e91fe0eb.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MessageReliability.html-fef38b8a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MirrorCluster.html-7e96365e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MqModel.html-1f348c6c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/NormalCluster.html-d07ec537.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RabbitMQ.html-3b8a7c7e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/AOF.html-e1c76e95.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Cache.html-3bb4d804.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/CommandAndType.html-c5f0cd58.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DataSynchronization.html-08d0e002.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MasterSlave.html-af305381.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MessageLogin.html-516f80eb.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RDB.html-e5ec3656.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Redis.html-c420f884.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RedisClient.html-24ae9dcb.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RedisUtils.html-757754bb.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/BeanLifeCycle.html-65c54e04.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/CircularDependency.html-bb974fbe.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/GetBean.html-bfca91d2.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MVC.html-1d1a91d4.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Others.html-182b3b32.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SpringAOP.html-3431481b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SpringExt.html-44de7d36.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SpringIOC.html-eb36252e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/AOP.html-bffc5b0f.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/AutoConfig.html-ea7a558d.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Exception.html-af51a626.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Interceptor.html-22eb7494.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/JSON.html-076b9e41.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Listener.html-e8e57708.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Log.html-47237eab.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ReadConfig.html-196ffac8.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Starter.html-7719cf32.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/YAML.html-a6a4ab39.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/TypeScript.html-e0e39191.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Axios.html-45148860.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Environment.html-1f9d0975.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LifeCycle.html-ad71f018.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RefAndSlot.html-0f98f822.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/vue-element.html-cdfb4489.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Vue2.html-9d325fc4.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueBase.html-5ce1ca4b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueComponent.html-c5a0ae0b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueDirective.html-5938ceb3.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueFilters.html-5cfc9950.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueRouter.html-e9826b02.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueX.html-bf7108a4.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/CreateProject.html-08662640.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/hookAndNewComponent.html-b42935b7.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Vue3.html-41274649.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Vue3Base.html-4e4733ea.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Vue3LifeCycle.html-a79187f2.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/BinarySearch.html-ee2f6973.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/BubbleSort.html-62ee1e2c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InsertionSort.html-de3c527c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MergeSort.html-f73a2e57.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/QuickSort.html-daf8e448.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SelectionSort.html-3cda21ea.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ShellSort.html-9138605a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SortStability.html-30adb477.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Feign.html-688efe6d.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/CORS.html-22bc23cb.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Filters.html-86fbad4b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Gateway.html-55bf408a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Predicate.html-3550602d.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/UseGateway.html-92e65567.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InstallNacos.html-cdaa7de7.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/NacosConfig.html-a7f4cc88.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/NacosRegister.html-62dc16aa.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ctest.html-b6fedeeb.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/index.html-b809455c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LeetCode.html-037cdc63.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DesignPatterns.html-fb2de73a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerBase.html-0c9fbb14.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerCommand.html-7cbef1ee.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerCompose.html-39f2a0a6.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerFile.html-13ea677f.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DockerRepository.html-9b07acb2.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InstallDocker.html-fef8019a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InstallDockerCompose.html-1a11519a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Collection.html-9321a3bb.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/JavaBase.html-27bfe80e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Git - 副本.html-27567c92.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Git.html-e1e614b4.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ControlStatement.html-ce315c4e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Modular.html-329bbd93.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/OperatorsAndExpressions.html-c5a8e18c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VariablesAndTypes.html-eee6b1f1.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ClassLoader.html-2288bcd6.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/JVMMemory.html-70ba549b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ObjectIsDie.html-18824a03.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RecyclingAlgorithm.html-2c5c2a7a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Linux.html-f3210199.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LinuxBase.html-7061180b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LinuxCommons.html-5f8d165e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LinuxToc.html-ab6015dd.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VIBottomLineMode.html-f1f59e8a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VICommandMode.html-d66d9cbc.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DelayLoad.html-86db0575.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/GetPrimaryKey.html-46aaa987.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/KnowledgePoints.html-bf4bf24d.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MyBatis.html-d9066b81.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MyBatisCache.html-f11e0252.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/PassParameters.html-820ffb8b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SQLLabel.html-02ea1682.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Constraint.html-652fd9ed.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DataType.html-af27c02f.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DCL.html-c43628da.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DDL.html-b9938925.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DML.html-a39cbe78.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DQL.html-c7a929aa.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Engine.html-4e51b798.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Function.html-f451849b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LinuxInstall.html-a6496d37.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Lock.html-49436a19.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MultiTableQuery.html-0c5872a7.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MySQL.html-9458da86.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MySQLIndex.html-93223dd8.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Operator.html-63c4a983.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Permissions.html-6beca823.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SQLOptimization.html-b449fb25.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Transactional.html-b2a2c285.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Utils.html-cc98bf9f.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/WindowsInstall.html-bbc2f7ae.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ArbitrationQueue.html-3a222200.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DelayQueue.html-0d769a26.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InstallMQ.html-c2db859c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LazyQueue.html-95010aa9.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MessageReliability.html-7b95d5ff.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MirrorCluster.html-c58962da.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MqModel.html-8cb3d230.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/NormalCluster.html-1c0f6b73.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RabbitMQ.html-3e950722.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/AOF.html-692c893f.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Cache.html-e1a1c9bf.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/CommandAndType.html-3c876c7c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/DataSynchronization.html-fffbb4fb.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MasterSlave.html-40ad1c01.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MessageLogin.html-842042ca.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RDB.html-9a08fea3.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Redis.html-e0f5697c.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RedisClient.html-81725e29.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RedisUtils.html-eb170e66.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/BeanLifeCycle.html-f875509b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/CircularDependency.html-77617fa6.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/GetBean.html-f1bc778f.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MVC.html-d265fed9.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Others.html-4752dee4.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SpringAOP.html-6b9f3909.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SpringExt.html-ecea8447.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SpringIOC.html-7b3e8468.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/AOP.html-013389c9.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/AutoConfig.html-0bf3c7ed.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Exception.html-bee03f62.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Interceptor.html-6f3c1060.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/JSON.html-e44105cf.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Listener.html-10ddd2ea.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Log.html-6ad1c1dd.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ReadConfig.html-47d79cc0.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Starter.html-3a0c4dee.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/YAML.html-b564c2de.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/TypeScript.html-8d6b6e56.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Axios.html-92a76275.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Environment.html-aa1790a4.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/LifeCycle.html-f470930a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/RefAndSlot.html-29330f4a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/vue-element.html-2e8213f5.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Vue2.html-79a109b5.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueBase.html-06322f23.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueComponent.html-602dcb6b.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueDirective.html-4c021771.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueFilters.html-36dbf007.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueRouter.html-f825c55a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/VueX.html-fb6d9760.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/CreateProject.html-a5bc328a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/hookAndNewComponent.html-fef65d50.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Vue3.html-60136bb2.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Vue3Base.html-93ca771e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Vue3LifeCycle.html-9fe0e181.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/BinarySearch.html-5c643a9a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/BubbleSort.html-1e26d54d.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InsertionSort.html-a950382d.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/MergeSort.html-dcf613db.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/QuickSort.html-c0c2b173.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SelectionSort.html-055ef839.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/ShellSort.html-09d083ee.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/SortStability.html-23620e78.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Feign.html-0f2d3ba2.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/CORS.html-628d728a.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Filters.html-a9a68740.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Gateway.html-20bdfe3e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/Predicate.html-23fc1c68.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/UseGateway.html-bae8304f.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/InstallNacos.html-d3a9d3df.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/NacosConfig.html-639b3fc7.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/NacosRegister.html-bd0a3e9e.js" as="script"><link rel="prefetch" href="/full-stack-notes/assets/404.html-87d54bd8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/full-stack-notes/" class=""><img class="logo" src="/full-stack-notes/images/quantou.png" alt="FullStackNotes"><span class="site-name can-hide">FullStackNotes</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/full-stack-notes/guide/JVM/ClassLoader.md" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></div><div class="navbar-item"><a href="/full-stack-notes/guide/Java/JavaBase.md" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Spring系列"><span class="title">Spring系列</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Spring系列"><span class="title">Spring系列</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Spring/SpringIOC.md" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/SpringBoot/JSON.md" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="微服务组件"><span class="title">微服务组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="微服务组件"><span class="title">微服务组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/SpringCloud/Nacos/InstallNacos.md" class="" aria-label="Nacos"><!--[--><!--]--> Nacos <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/SpringCloud/Feign/Feign.md" class="" aria-label="Feign"><!--[--><!--]--> Feign <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/SpringCloud/Gateway/Gateway.md" class="" aria-label="Gateway"><!--[--><!--]--> Gateway <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/full-stack-notes/guide/MyBatis/MyBatis.md" class="" aria-label="MyBatis"><!--[--><!--]--> MyBatis <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="中间件"><span class="title">中间件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="中间件"><span class="title">中间件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Redis/Redis.md" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/RabbitMQ/RabbitMQ.md" class="" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/MySQL/MySQL.md" class="" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/full-stack-notes/guide/Git/Git.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></div><div class="navbar-item"><a href="/full-stack-notes/guide/Docker/DockerCommand.md" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></div><div class="navbar-item"><a href="/full-stack-notes/guide/Linux/LinuxBase.md" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Vue2/Vue2.md" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Vue3/Vue3.md" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/JavaScript/VariablesAndTypes.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/TypeScript/TypeScript.md" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Algorithm/search/BinarySearch.md" class="" aria-label="查找算法"><!--[--><!--]--> 查找算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Algorithm/sort/BubbleSort.md" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Algorithm/LeetCode.md" class="" aria-label="LeetCode刷题记录"><!--[--><!--]--> LeetCode刷题记录 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="项目"><span class="title">项目</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="项目"><span class="title">项目</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Vue2/Vue-element.md" class="" aria-label="vue-element-admin"><!--[--><!--]--> vue-element-admin <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://gitee.com/linwei-zhang/full-stack-notes" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/full-stack-notes/guide/JVM/ClassLoader.md" class="" aria-label="JVM"><!--[--><!--]--> JVM <!--[--><!--]--></a></div><div class="navbar-item"><a href="/full-stack-notes/guide/Java/JavaBase.md" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Spring系列"><span class="title">Spring系列</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Spring系列"><span class="title">Spring系列</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Spring/SpringIOC.md" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/SpringBoot/JSON.md" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="微服务组件"><span class="title">微服务组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="微服务组件"><span class="title">微服务组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/SpringCloud/Nacos/InstallNacos.md" class="" aria-label="Nacos"><!--[--><!--]--> Nacos <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/SpringCloud/Feign/Feign.md" class="" aria-label="Feign"><!--[--><!--]--> Feign <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/SpringCloud/Gateway/Gateway.md" class="" aria-label="Gateway"><!--[--><!--]--> Gateway <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/full-stack-notes/guide/MyBatis/MyBatis.md" class="" aria-label="MyBatis"><!--[--><!--]--> MyBatis <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="中间件"><span class="title">中间件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="中间件"><span class="title">中间件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Redis/Redis.md" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/RabbitMQ/RabbitMQ.md" class="" aria-label="RabbitMQ"><!--[--><!--]--> RabbitMQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/MySQL/MySQL.md" class="" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/full-stack-notes/guide/Git/Git.md" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></div><div class="navbar-item"><a href="/full-stack-notes/guide/Docker/DockerCommand.md" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></div><div class="navbar-item"><a href="/full-stack-notes/guide/Linux/LinuxBase.md" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Vue2/Vue2.md" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Vue3/Vue3.md" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/JavaScript/VariablesAndTypes.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/TypeScript/TypeScript.md" class="" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Algorithm/search/BinarySearch.md" class="" aria-label="查找算法"><!--[--><!--]--> 查找算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Algorithm/sort/BubbleSort.md" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Algorithm/LeetCode.md" class="" aria-label="LeetCode刷题记录"><!--[--><!--]--> LeetCode刷题记录 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="项目"><span class="title">项目</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="项目"><span class="title">项目</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/full-stack-notes/guide/Vue2/Vue-element.md" class="" aria-label="vue-element-admin"><!--[--><!--]--> vue-element-admin <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://gitee.com/linwei-zhang/full-stack-notes" rel="noopener noreferrer" target="_blank" aria-label="Gitee"><!--[--><!--]--> Gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/full-stack-notes/guide/Docker/DockerCommand.md" class="sidebar-item sidebar-heading" aria-label="Docker命令汇总"><!--[--><!--]--> Docker命令汇总 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">安装 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/full-stack-notes/guide/Docker/InstallDocker.md" class="sidebar-item" aria-label="CentOS7安装Docker"><!--[--><!--]--> CentOS7安装Docker <!--[--><!--]--></a><!----></li><li><a href="/full-stack-notes/guide/Docker/InstallDockerCompose.md" class="sidebar-item" aria-label="CentOS安装DockerCompose"><!--[--><!--]--> CentOS安装DockerCompose <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/full-stack-notes/guide/Docker/DockerBase.md" class="sidebar-item sidebar-heading" aria-label="Docker基本操作"><!--[--><!--]--> Docker基本操作 <!--[--><!--]--></a><!----></li><li><a href="/full-stack-notes/guide/Docker/DockerFile.md" class="sidebar-item sidebar-heading" aria-label="DockerFile构建镜像"><!--[--><!--]--> DockerFile构建镜像 <!--[--><!--]--></a><!----></li><li><a href="/full-stack-notes/guide/Docker/DockerCompose.md" class="sidebar-item sidebar-heading" aria-label="DockerCompose"><!--[--><!--]--> DockerCompose <!--[--><!--]--></a><!----></li><li><a href="/full-stack-notes/guide/Docker/DockerRepository.md" class="sidebar-item sidebar-heading" aria-label="Docker镜像仓库"><!--[--><!--]--> Docker镜像仓库 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="_1、安装docker" tabindex="-1"><a class="header-anchor" href="#_1、安装docker" aria-hidden="true">#</a> 1、安装Docker</h1><p>Docker 分为 CE 和 EE 两大版本。CE 即社区版（免费，支持周期 7 个月），EE 即企业版，强调安全，付费使用，支持周期 24 个月。<br>Docker CE 分为 stabletest 和 nightly 三个更新频道。<br>官方网站上有各种环境下的 <a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">安装指南<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，这里主要介绍 Docker CE 在 CentOS上的安装。</p><h2 id="_1-1-centos7安装docker" tabindex="-1"><a class="header-anchor" href="#_1-1-centos7安装docker" aria-hidden="true">#</a> 1.1 CentOS7安装Docker</h2><p>Docker CE 支持 64 位版本 CentOS 7，并且要求内核版本不低于 3.10， CentOS 7 满足最低内核的要求，所以我们在CentOS 7安装Docker。</p><h3 id="_1-1-1-卸载-可选" tabindex="-1"><a class="header-anchor" href="#_1-1-1-卸载-可选" aria-hidden="true">#</a> 1.1.1 卸载（可选）</h3><p>如果之前安装过旧版本的Docker，可以使用下面命令卸载：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
                  docker-client <span class="token punctuation">\</span>
                  docker-client-latest <span class="token punctuation">\</span>
                  docker-common <span class="token punctuation">\</span>
                  docker-latest <span class="token punctuation">\</span>
                  docker-latest-logrotate <span class="token punctuation">\</span>
                  docker-logrotate <span class="token punctuation">\</span>
                  docker-selinux <span class="token punctuation">\</span>
                  docker-engine-selinux <span class="token punctuation">\</span>
                  docker-engine <span class="token punctuation">\</span>
                  docker-ce
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-1-2-安装docker" tabindex="-1"><a class="header-anchor" href="#_1-1-2-安装docker" aria-hidden="true">#</a> 1.1.2 安装Docker</h3><p>首先需要大家虚拟机联网，安装yum工具</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils <span class="token punctuation">\</span>
           device-mapper-persistent-data <span class="token punctuation">\</span>
           lvm2 --skip-broken
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后更新本地镜像源</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 设置docker镜像源</span>
yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
    
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/download.docker.com/mirrors.aliyun.com\/docker-ce/g&#39;</span> /etc/yum.repos.d/docker-ce.repo

yum makecache fast
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装Docker</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>docker-ce为社区免费版本。稍等片刻，docker即可安装成功。</p><h3 id="_1-1-3-启动docker" tabindex="-1"><a class="header-anchor" href="#_1-1-3-启动docker" aria-hidden="true">#</a> 1.1.3 启动Docker</h3><p>Docker应用需要用到各种端口，逐一去修改防火墙设置。非常麻烦，因此建议大家直接关闭防火墙！</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 关闭</span>
systemctl stop firewalld
<span class="token comment"># 禁止开机启动防火墙</span>
systemctl disable firewalld

<span class="token comment"># 开端口  6379为例</span>
firewall-cmd <span class="token parameter variable">--zone</span><span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">6379</span>/tcp <span class="token parameter variable">--permanent</span>
<span class="token comment"># 重启防火墙使配置生效</span>
systemctl restart firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过命令启动docker</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl start <span class="token function">docker</span>  <span class="token comment"># 启动docker服务</span>

systemctl stop <span class="token function">docker</span>  <span class="token comment"># 停止docker服务</span>

systemctl restart <span class="token function">docker</span>  <span class="token comment"># 重启docker服务</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以查看docker版本</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token parameter variable">-v</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-1-4-配置镜像加速" tabindex="-1"><a class="header-anchor" href="#_1-1-4-配置镜像加速" aria-hidden="true">#</a> 1.1.4 配置镜像加速</h3><p>docker官方镜像仓库网速较差，我们需要设置国内镜像服务：<br>参考阿里云的镜像加速文档：<a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors" target="_blank" rel="noopener noreferrer">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_1-2-centos安装dockercompose" tabindex="-1"><a class="header-anchor" href="#_1-2-centos安装dockercompose" aria-hidden="true">#</a> 1.2 CentOS安装DockerCompose</h2><h3 id="_1-2-1-下载" tabindex="-1"><a class="header-anchor" href="#_1-2-1-下载" aria-hidden="true">#</a> 1.2.1 下载</h3><p>Linux下需要通过命令下载</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 安装</span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> https://github.com/docker/compose/releases/download/1.23.1/docker-compose-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> <span class="token parameter variable">-s</span><span class="token variable">`</span></span>-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">`</span></span> <span class="token operator">&gt;</span> /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以手动上传到 /usr/local/bin/ 目录</p><h3 id="_1-2-2-修改文件权限" tabindex="-1"><a class="header-anchor" href="#_1-2-2-修改文件权限" aria-hidden="true">#</a> 1.2.2 修改文件权限</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 修改权限</span>
<span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-3-base自动补全命令" tabindex="-1"><a class="header-anchor" href="#_1-2-3-base自动补全命令" aria-hidden="true">#</a> 1.2.3 Base自动补全命令</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 补全命令</span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> https://raw.githubusercontent.com/docker/compose/1.29.1/contrib/completion/bash/docker-compose <span class="token operator">&gt;</span> /etc/bash_completion.d/docker-compose

<span class="token comment"># 如果这里出现错误，需要修改自己的hosts文件</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;199.232.68.133 raw.githubusercontent.com&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/hosts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-3-docker镜像仓库" tabindex="-1"><a class="header-anchor" href="#_1-3-docker镜像仓库" aria-hidden="true">#</a> 1.3 Docker镜像仓库</h2><p>搭建镜像仓库可以基于Docker官方提供的DockerRegistry来实现。<br>官网地址：<a href="https://hub.docker.com/_/registry" target="_blank" rel="noopener noreferrer">https://hub.docker.com/_/registry<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_1-3-1-简化版镜像仓库" tabindex="-1"><a class="header-anchor" href="#_1-3-1-简化版镜像仓库" aria-hidden="true">#</a> 1.3.1 简化版镜像仓库</h3><p>Docker官方的Docker Registry是一个基础版本的Docker镜像仓库，具备仓库管理的完整功能，但是没有图形化界面。<br>搭建方式比较简单，命令如下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\</span>
    <span class="token parameter variable">--name</span> registry	<span class="token punctuation">\</span>
    <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000 <span class="token punctuation">\</span>
    <span class="token parameter variable">-v</span> registry-data:/var/lib/registry <span class="token punctuation">\</span>
    registry
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>命令中挂载了一个数据卷registry-data到容器内的/var/lib/registry 目录，这是私有镜像库存放数据的目录。<br>访问<a href="http://YourIp:5000/v2/_catalog" target="_blank" rel="noopener noreferrer">http://YourIp:5000/v2/_catalog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 可以查看当前私有镜像服务中包含的镜像</p><h3 id="_1-3-2-带有图形化界面版本" tabindex="-1"><a class="header-anchor" href="#_1-3-2-带有图形化界面版本" aria-hidden="true">#</a> 1.3.2 带有图形化界面版本</h3><p>使用DockerCompose部署带有图象界面的DockerRegistry</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>version: <span class="token string">&#39;3.0&#39;</span>
services:
  registry:
    image: registry
    volumes:
      - ./registry-data:/var/lib/registry
  ui:
    image: joxit/docker-registry-ui:static
    ports:
      - <span class="token number">8080</span>:80
    environment:
      - <span class="token assign-left variable">REGISTRY_TITLE</span><span class="token operator">=</span>传智教育私有仓库
      - <span class="token assign-left variable">REGISTRY_URL</span><span class="token operator">=</span>http://registry:5000
    depends_on:
      - registry
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-3-配置docker信任地址" tabindex="-1"><a class="header-anchor" href="#_1-3-3-配置docker信任地址" aria-hidden="true">#</a> 1.3.3 配置Docker信任地址</h3><p>我们的私服采用的是http协议，默认不被Docker信任，所以需要做一个配置：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 打开要修改的文件</span>
<span class="token function">vi</span> /etc/docker/daemon.json
<span class="token comment"># 添加内容：</span>
<span class="token string">&quot;insecure-registries&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;http://192.168.150.101:8080&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># 重加载</span>
systemctl daemon-reload
<span class="token comment"># 重启docker</span>
systemctl restart <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_2、docker基本操作" tabindex="-1"><a class="header-anchor" href="#_2、docker基本操作" aria-hidden="true">#</a> 2、Docker基本操作</h1><h2 id="_2-1-镜像操作" tabindex="-1"><a class="header-anchor" href="#_2-1-镜像操作" aria-hidden="true">#</a> 2.1 镜像操作</h2><h3 id="_2-1-1-镜像名称" tabindex="-1"><a class="header-anchor" href="#_2-1-1-镜像名称" aria-hidden="true">#</a> 2.1.1 镜像名称</h3><p>首先来看下镜像的名称组成：</p><ul><li>镜名称一般分两部分组成：[repository]:[tag]。</li><li>在没有指定tag时，默认是latest，代表最新版本的镜像</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674040985291-d6b8f79e-106f-4de9-a67b-4dc1d6540375.png#averageHue=%23fdfaf8&amp;clientId=u7f7cce6f-e482-4&amp;from=paste&amp;height=238&amp;id=u92b67d23&amp;name=image.png&amp;originHeight=214&amp;originWidth=1089&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=29886&amp;status=done&amp;style=none&amp;taskId=u0c2e423d-3dab-42d7-8999-a1dc0a23ff6&amp;title=&amp;width=1210.0000320540544" alt="image.png"></p><h3 id="_2-1-2-镜像命令" tabindex="-1"><a class="header-anchor" href="#_2-1-2-镜像命令" aria-hidden="true">#</a> 2.1.2 镜像命令</h3><p>常见的镜像操作命令如图<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674041077728-48ece357-63a0-467c-b335-d1db69afc886.png#averageHue=%23faf8f5&amp;clientId=u7f7cce6f-e482-4&amp;from=paste&amp;height=622&amp;id=ub87a09f4&amp;name=image.png&amp;originHeight=560&amp;originWidth=1137&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=150074&amp;status=done&amp;style=none&amp;taskId=u08d7d12a-47e1-4c89-b4e0-1ec80496a48&amp;title=&amp;width=1263.3333668002385" alt="image.png"></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 拉取镜像</span>
<span class="token function">docker</span> pull nginx

<span class="token comment"># 查看拉取到的镜像</span>
<span class="token function">docker</span> images

<span class="token comment"># 导出镜像到磁盘 docker save -o [保存的目标文件名称] [镜像名称]</span>
<span class="token function">docker</span> save <span class="token parameter variable">-o</span> nginx.tar nginx:latest

<span class="token comment"># 删除本地的 nginx 镜像</span>
<span class="token function">docker</span> rmi nginx:latest

<span class="token comment"># 加载本地压缩包为镜像</span>
<span class="token function">docker</span> load <span class="token parameter variable">-i</span> nginx.tar

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-2-容器操作" tabindex="-1"><a class="header-anchor" href="#_2-2-容器操作" aria-hidden="true">#</a> 2.2 容器操作</h2><h3 id="_2-2-1-容器相关命令" tabindex="-1"><a class="header-anchor" href="#_2-2-1-容器相关命令" aria-hidden="true">#</a> 2.2.1 容器相关命令</h3><p><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674041555641-c0ccf847-be1e-4882-b168-862d9cdcce7a.png#averageHue=%23747d3b&amp;clientId=u7f7cce6f-e482-4&amp;from=paste&amp;height=590&amp;id=ua7fe31b8&amp;name=image.png&amp;originHeight=531&amp;originWidth=1085&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=117552&amp;status=done&amp;style=none&amp;taskId=u4eb4b985-967c-4b90-8b6c-39df3b5d974&amp;title=&amp;width=1205.5555874918723" alt="image.png"><br>容器保护三个状态：</p><ul><li>运行：进程正常运行</li><li>暂停：进程暂停，CPU不再运行，并不释放内存</li><li>停止：进程终止，回收进程占用的内存、CPU等资源</li></ul><p>其中：</p><ul><li>docker run：创建并运行一个容器，处于运行状态</li><li>docker pause：让一个运行的容器暂停</li><li>docker unpause：让一个容器从暂停状态恢复运行</li><li>docker stop：停止一个运行的容器</li><li>docker start：让一个停止的容器再次运行</li><li>docker rm：删除一个容器</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 创建并运行nginx容器的命令</span>
<span class="token comment"># --name 给容器起个名 -p 端口映射 -d 后台运行 nginx 镜像名称</span>
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> mynginx <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">-d</span> nginx

<span class="token comment"># 进入Nginx容器，修改HTML文件内容，添加“传智教育欢迎您”</span>
<span class="token comment"># -it 给当前进入的容器创建一个标准输入、输出终端，允许我们与容器交互 bash linux终端交互命令</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mynginx <span class="token function">bash</span>
<span class="token builtin class-name">cd</span> /usr/share/nginx/html
<span class="token comment"># 容器内没有vi命令，无法直接修改，我们用下面的命令来修改</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-e</span> <span class="token string">&#39;s#Welcome to nginx#传智教育欢迎您#g&#39;</span> <span class="token parameter variable">-e</span> <span class="token string">&#39;s#&lt;head&gt;#&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;#g&#39;</span> index.html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>容器内部会模拟一个独立的Linux文件系统，看起来如同一个linux服务器一样<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674042538948-9435650f-3809-4114-838d-2cef0ed54a2a.png#averageHue=%2327201f&amp;clientId=u7f7cce6f-e482-4&amp;from=paste&amp;height=171&amp;id=ds1Sx&amp;name=image.png&amp;originHeight=154&amp;originWidth=1130&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=95241&amp;status=done&amp;style=none&amp;taskId=uf03ac9e1-fddc-4aa0-a716-e813fcd35fd&amp;title=&amp;width=1255.55558881642" alt="image.png"><br>nginx的环境、配置、运行文件全部都在这个文件系统中，包括我们要修改的html文件。<br>查看DockerHub网站中的nginx页面，可以知道nginx的html目录位置在/usr/share/nginx/html</p><h2 id="_2-3-数据卷" tabindex="-1"><a class="header-anchor" href="#_2-3-数据卷" aria-hidden="true">#</a> 2.3 数据卷</h2><p>**数据卷（volume）**是一个虚拟目录，指向宿主机文件系统中的某个目录。<br><strong>作用</strong>：将数据与容器解耦，这就要用到数据卷了。<br>在之前的nginx案例中，修改nginx的html页面时，需要进入nginx内部。并且因为没有编辑器，修改文件也很麻烦。<br>这就是因为容器与数据（容器内文件）耦合带来的后果。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674042764260-966d0d5a-e6b3-4119-b449-3fde2466a370.png#averageHue=%23f4f1f1&amp;clientId=u7f7cce6f-e482-4&amp;from=paste&amp;height=343&amp;id=ubce2a574&amp;name=image.png&amp;originHeight=309&amp;originWidth=1092&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=107741&amp;status=done&amp;style=none&amp;taskId=u0c6f774d-a9df-4965-ae9e-c78138045be&amp;title=&amp;width=1213.3333654756907" alt="image.png"><br>一旦完成数据卷挂载，对容器的一切操作都会作用在数据卷对应的宿主机目录了。<br>这样，我们操作宿主机的/var/lib/docker/volumes/html目录，就等于操作容器内的/usr/share/nginx/html目录了<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674042873555-548c7b76-8c55-49cc-a61b-3be61d4a6d86.png#averageHue=%23f8cdaa&amp;clientId=u7f7cce6f-e482-4&amp;from=paste&amp;height=537&amp;id=u73919189&amp;name=image.png&amp;originHeight=483&amp;originWidth=1068&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=138829&amp;status=done&amp;style=none&amp;taskId=ub60e1b4c-67f3-47a7-b24e-bddb4937463&amp;title=&amp;width=1186.6666981025987" alt="image.png"></p><h3 id="_2-3-1-数据卷命令" tabindex="-1"><a class="header-anchor" href="#_2-3-1-数据卷命令" aria-hidden="true">#</a> 2.3.1 数据卷命令</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> volume <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>docker volume命令是数据卷操作，根据命令后跟随的command来确定下一步的操作：</p><ul><li>create 创建一个volume</li><li>inspect 显示一个或多个volume的信息</li><li>ls 列出所有的volume</li><li>prune 删除未使用的volume</li><li>rm 删除一个或多个指定的volume</li></ul><h3 id="_2-3-2-创建和查看数据卷" tabindex="-1"><a class="header-anchor" href="#_2-3-2-创建和查看数据卷" aria-hidden="true">#</a> 2.3.2 创建和查看数据卷</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 创建名为 html 的数据卷</span>
<span class="token function">docker</span> volume create html

<span class="token comment"># 查看所有数据</span>
<span class="token function">docker</span> volume <span class="token function">ls</span>

<span class="token comment"># 查看 html 数据卷详细信息卷</span>
<span class="token function">docker</span> volume inspect html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674043180233-962ed9f4-773e-4c8b-9658-2adc87a374ce.png#averageHue=%232f3033&amp;clientId=u7f7cce6f-e482-4&amp;from=paste&amp;height=336&amp;id=u1dbc4404&amp;name=image.png&amp;originHeight=302&amp;originWidth=831&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=103459&amp;status=done&amp;style=none&amp;taskId=u47858812-e8c5-4b9e-a5b6-5a2c0c69105&amp;title=&amp;width=923.3333577933141" alt="image.png">可以看到，我们创建的html这个数据卷关联的宿主机目录为/var/lib/docker/volumes/html/_data目录</p><h3 id="_2-3-3-挂载数据卷" tabindex="-1"><a class="header-anchor" href="#_2-3-3-挂载数据卷" aria-hidden="true">#</a> 2.3.3 挂载数据卷</h3><p>我们在创建容器时，可以通过 -v 参数来挂载一个数据卷到某个容器内目录</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token punctuation">\</span>
  <span class="token parameter variable">--name</span> mn <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> html:/root/html <span class="token punctuation">\</span>
  <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80
  nginx <span class="token punctuation">\</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里的-v就是挂载数据卷的命令：</p><ul><li>-v html:/root/htm ：把html数据卷挂载到容器内的/root/html这个目录中</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 创建一个nginx容器，修改容器内的html目录内的index.html内容</span>
<span class="token comment"># 上个案例中，我们进入nginx容器内部，已经知道nginx的html目录所在位置/usr/share/nginx/html ，我们需要把这个目录挂载到html这个数据卷上，方便操作其中的内容</span>

<span class="token comment"># 创建容器并挂载数据卷到容器内的HTML目录</span>
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> mynginx <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">-v</span> html:/usr/share/nginx/html <span class="token parameter variable">-d</span> nginx

<span class="token comment"># 进入html数据卷所在位置，并修改HTML内容</span>
<span class="token comment"># 查看html数据卷的位置</span>
<span class="token function">docker</span> volume inspect html
<span class="token comment"># 进入该目录</span>
<span class="token builtin class-name">cd</span> /var/lib/docker/volumes/html/_data
<span class="token comment"># 修改文件</span>
<span class="token function">vi</span> index.html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>容器不仅仅可以挂载数据卷，也可以直接挂载到宿主机目录上。关联关系如下：</p><ul><li>带数据卷模式：宿主机目录 --&gt; 数据卷 ---&gt; 容器内目录</li><li>直接挂载模式：宿主机目录 ---&gt; 容器内目录</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674043621675-24540510-69a7-4130-bdfc-4f7c167bfe73.png#averageHue=%23f5caa7&amp;clientId=u7f7cce6f-e482-4&amp;from=paste&amp;height=569&amp;id=u440f39f2&amp;name=image.png&amp;originHeight=512&amp;originWidth=1089&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=122090&amp;status=done&amp;style=none&amp;taskId=u88165a06-5d5c-4984-bf26-6880541f3d5&amp;title=&amp;width=1210.0000320540544" alt="image.png"><br>语法：<br>目录挂载与数据卷挂载的语法是类似的：</p><ul><li>-v [宿主机目录]:[容器内目录]</li><li>-v [宿主机文件]:[容器内文件]</li></ul><h1 id="_3、dockerfile自定义镜像" tabindex="-1"><a class="header-anchor" href="#_3、dockerfile自定义镜像" aria-hidden="true">#</a> 3、Dockerfile自定义镜像</h1><p>常见的镜像在DockerHub就能找到，但是我们自己写的项目就必须自己构建镜像了。<br>而要自定义镜像，就必须先了解镜像的结构才行。</p><h2 id="_3-1-镜像结构" tabindex="-1"><a class="header-anchor" href="#_3-1-镜像结构" aria-hidden="true">#</a> 3.1 镜像结构</h2><p>镜像是将应用程序及其需要的系统函数库、环境、配置、依赖打包而成。<br>我们以MySQL为例，来看看镜像的组成结构<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674047922303-b4452544-568e-481c-b8a4-8272d5a153b1.png#averageHue=%23c5c5c4&amp;clientId=u3747baf0-3244-4&amp;from=paste&amp;height=692&amp;id=u22c0b889&amp;name=image.png&amp;originHeight=623&amp;originWidth=1144&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=253879&amp;status=done&amp;style=none&amp;taskId=ude5b965e-42ea-469a-8ad8-4bf04369239&amp;title=&amp;width=1271.111144784057" alt="image.png"><br>简单来说，镜像就是在系统函数库、运行环境基础上，添加应用程序文件、配置文件、依赖文件等组合，然后编写好启动脚本打包在一起形成的文件。<br>我们要构建镜像，其实就是实现上述打包的过程。</p><h2 id="_3-2-dockerfile语法" tabindex="-1"><a class="header-anchor" href="#_3-2-dockerfile语法" aria-hidden="true">#</a> 3.2 Dockerfile语法</h2><p>我们只需要告诉Docker，我们的镜像的组成，需要哪些BaseImage、需要拷贝什么文件、需要安装什么依赖、启动脚本是什么，将来Docker会帮助我们构建镜像。<br><strong>而描述上述信息的文件就是Dockerfile文件。</strong><br><strong>Dockerfile</strong>就是一个文本文件，其中包含一个个的<strong>指令(Instruction)</strong>，用指令来说明要执行什么操作来构建镜像。每一个指令都会形成一层Layer。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674048024472-ff0ec242-eea0-4679-9132-423a9028f7a1.png#averageHue=%23cdb8b5&amp;clientId=u3747baf0-3244-4&amp;from=paste&amp;height=478&amp;id=u8250a439&amp;name=image.png&amp;originHeight=430&amp;originWidth=1127&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=142607&amp;status=done&amp;style=none&amp;taskId=u2676ba7b-1d52-428b-a2d4-24e36f02e96&amp;title=&amp;width=1252.2222553947834" alt="image.png"><br>更新详细语法说明，请参考官网文档： <a href="https://docs.docker.com/engine/reference/builder" target="_blank" rel="noopener noreferrer">https://docs.docker.com/engine/reference/builder<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_3-3-构建java项目" tabindex="-1"><a class="header-anchor" href="#_3-3-构建java项目" aria-hidden="true">#</a> 3.3 构建Java项目</h2><h3 id="_3-3-1-基于ubuntu构建java项目" tabindex="-1"><a class="header-anchor" href="#_3-3-1-基于ubuntu构建java项目" aria-hidden="true">#</a> 3.3.1 基于Ubuntu构建Java项目</h3><p>需求：基于Ubuntu镜像构建一个新镜像，运行一个java项目</p><ul><li>步骤1：新建一个空文件夹docker-demo</li><li>步骤2：拷贝Java的 .jar包文件（docker-demo.jar）到docker-demo这个目录</li><li>步骤3：拷贝jdk的压缩包jdk8.tar.gz文件到docker-demo这个目录</li><li>步骤4：编写Dockerfile文件到docker-demo这个目录</li></ul><p>其中的内容如下：</p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token comment"># 指定基础镜像</span>
<span class="token instruction"><span class="token keyword">FROM</span> ubuntu:16.04</span>
<span class="token comment"># 配置环境变量，JDK的安装目录</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_DIR=/usr/local</span>

<span class="token comment"># 拷贝jdk和java项目的包</span>
<span class="token instruction"><span class="token keyword">COPY</span> ./jdk8.tar.gz <span class="token variable">$JAVA_DIR</span>/</span>
<span class="token instruction"><span class="token keyword">COPY</span> ./docker-demo.jar /tmp/app.jar</span>

<span class="token comment"># 安装JDK</span>
<span class="token instruction"><span class="token keyword">RUN</span> cd <span class="token variable">$JAVA_DIR</span> <span class="token operator">\</span>
&amp;&amp; tar -xf ./jdk8.tar.gz \ #解压</span>
&amp;&amp; mv ./jdk1.8.0_144 ./java8 # 重命名

<span class="token comment"># 配置环境变量</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_HOME=<span class="token variable">$JAVA_DIR</span>/java8</span>
<span class="token instruction"><span class="token keyword">ENV</span> PATH=<span class="token variable">$PATH</span>:<span class="token variable">$JAVA_HOME</span>/bin</span>

<span class="token comment"># 暴露端口</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 8090</span>
<span class="token comment"># 入口，java项目的启动命令</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> java -jar /tmp/app.jar</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>步骤5：进入docker-demo 目录</li><li>步骤6：运行命令：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># . 表示 dockerfile 所在的目录 javaweb:1.0 构建完成的镜像名称</span>
<span class="token function">docker</span> build <span class="token parameter variable">-t</span> javaweb:1.0 <span class="token builtin class-name">.</span>

<span class="token function">docker</span> images

<span class="token comment"># 启动镜像</span>
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> web <span class="token parameter variable">-p</span> <span class="token number">8090</span>:8090 <span class="token parameter variable">-d</span> javaweb:1.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后访问 <a href="http://192.168.150.101:8090/hello/count" target="_blank" rel="noopener noreferrer">http://192.168.150.101:8090/hello/count<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，其中的ip改成你的虚拟机ip</p><h3 id="_3-3-2-基于java8构建java项目" tabindex="-1"><a class="header-anchor" href="#_3-3-2-基于java8构建java项目" aria-hidden="true">#</a> 3.3.2 基于Java8构建Java项目</h3><p>虽然我们可以基于Ubuntu基础镜像，添加任意自己需要的安装包，构建镜像，但是却比较麻烦。所以大多数情况下，我们都可以在一些安装了部分软件的基础镜像上做改造。<br>例如，构建java项目的镜像，可以在已经准备了JDK的基础镜像基础上构建。<br>需求：基于java:8-alpine镜像，将一个Java项目构建为镜像</p><p>实现思路如下：</p><ul><li>① 新建一个空的目录，然后在目录中新建一个文件，命名为Dockerfile</li><li>② 拷贝课前资料提供的docker-demo.jar到这个目录中</li><li>③ 编写Dockerfile文件： <ul><li>a ）基于java:8-alpine作为基础镜像</li><li>b ）将app.jar拷贝到镜像中</li><li>c ）暴露端口</li><li>d ）编写入口ENTRYPOINT</li></ul></li></ul><p>内容如下：</p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> java:8-alpine</span>
<span class="token instruction"><span class="token keyword">COPY</span> ./app.jar /tmp/app.jar</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 8090</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> java -jar /tmp/app.jar</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>④ 使用docker build命令构建镜像</li></ul><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code>docker build -t javaweb:2.0 .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>⑤ 使用docker run创建容器并运行</li></ul><p>小结：</p><ol><li>Dockerfile的本质是一个文件，通过指令描述镜像的构建过程</li><li>Dockerfile的第一行必须是FROM，从一个基础镜像来构建</li><li>基础镜像可以是基本操作系统，如Ubuntu。也可以是其他人制作好的镜像，例如：java:8-alpine</li></ol><h1 id="_4、docker-compose" tabindex="-1"><a class="header-anchor" href="#_4、docker-compose" aria-hidden="true">#</a> 4、Docker-Compose</h1><p>Docker Compose可以基于Compose文件帮我们快速的部署分布式应用，而无需手动一个个创建和运行容器！</p><h2 id="_4-1-初识dockercompose" tabindex="-1"><a class="header-anchor" href="#_4-1-初识dockercompose" aria-hidden="true">#</a> 4.1 初识DockerCompose</h2><p>Compose文件是一个文本文件，通过指令定义集群中的每个容器如何运行。<br>将 docker run 中的所有参数转换为 Compose 形式</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>version<span class="token operator">:</span> <span class="token string">&quot;3.8&quot;</span>

services<span class="token operator">:</span>
	mysql<span class="token operator">:</span> # 对应 --name
		image<span class="token operator">:</span> mysql<span class="token operator">:</span><span class="token number">5.7</span>.<span class="token number">25</span> # 对应镜像名称
		environment<span class="token operator">:</span> # 对应 -e
			MYSQL_ROOT_PASSWORD<span class="token operator">:</span> <span class="token number">123</span> 
		volumes<span class="token operator">:</span> # 对应 -v
			- <span class="token string">&quot;/tmp/mysql/data:/var/lib/mysql&quot;</span>
			- <span class="token string">&quot;/tmp/mysql/conf/hmy.cnf:/etc/mysql/conf.d/hmy.cnf&quot;</span>
	web<span class="token operator">:</span>
		build<span class="token operator">:</span> .
		ports<span class="token operator">:</span>
			- <span class="token string">&quot;8090:8090&quot;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对应<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674051402479-a53d1fd0-625c-4206-b98c-8f11881811c2.png#averageHue=%23f0f0f0&amp;clientId=udeff5eb6-e770-4&amp;from=paste&amp;height=404&amp;id=uc4832c4f&amp;name=image.png&amp;originHeight=364&amp;originWidth=686&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=132844&amp;status=done&amp;style=none&amp;taskId=u4b71918b-6f7d-49ee-8c61-789553ee57b&amp;title=&amp;width=762.222242414216" alt="image.png"><br>上面的Compose文件就描述一个项目，其中包含两个容器：</p><ul><li>mysql：一个基于mysql:5.7.25镜像构建的容器，并且挂载了两个目录</li><li>web：一个基于docker build临时构建的镜像容器，映射端口时8090</li></ul><p>DockerCompose的详细语法参考官网：<a href="https://docs.docker.com/compose/compose-file/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/compose/compose-file/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><br>其实DockerCompose文件可以看做是将多个docker run命令写到一个文件，只是语法稍有差异。</p><h2 id="_4-2-安装dockercompose" tabindex="-1"><a class="header-anchor" href="#_4-2-安装dockercompose" aria-hidden="true">#</a> 4.2 安装DockerCompose</h2><p><strong>参考 1.2 篇</strong></p><h2 id="_4-3-部署微服务集群" tabindex="-1"><a class="header-anchor" href="#_4-3-部署微服务集群" aria-hidden="true">#</a> 4.3 部署微服务集群</h2><p><strong>需求</strong>：将之前学习的cloud-demo微服务集群利用DockerCompose部署<br><strong>实现思路</strong>：<br>① 查看课前资料提供的cloud-demo文件夹，里面已经编写好了docker-compose文件<br>② 修改自己的cloud-demo项目，将数据库、nacos地址都命名为docker-compose中的服务名<br>③ 使用maven打包工具，将项目中的每个微服务都打包为app.jar<br>④ 将打包好的app.jar拷贝到cloud-demo中的每一个对应的子目录中<br>⑤ 将cloud-demo上传至虚拟机，利用 docker-compose up -d 来部署</p><h3 id="_4-3-1-compose文件" tabindex="-1"><a class="header-anchor" href="#_4-3-1-compose文件" aria-hidden="true">#</a> 4.3.1 compose文件</h3><p>查看课前资料提供的cloud-demo文件夹，里面已经编写好了docker-compose文件，而且每个微服务都准备了一个独立的目录<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674049445308-936302c3-c46b-4b8e-855e-bcf2ac3387fe.png#averageHue=%23fbfbfa&amp;clientId=u3747baf0-3244-4&amp;from=paste&amp;height=359&amp;id=u3d97d9b4&amp;name=image.png&amp;originHeight=323&amp;originWidth=812&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=63311&amp;status=done&amp;style=none&amp;taskId=u724791ab-208a-45ce-bf7e-0a9f41ee7e2&amp;title=&amp;width=902.2222461229495" alt="image.png"><br>内容如下：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.2&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nacos/nacos<span class="token punctuation">-</span>server
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MODE</span><span class="token punctuation">:</span> standalone
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8848:8848&quot;</span>
  <span class="token key atrule">mysql</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span>5.7.25
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> <span class="token number">123</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;$PWD/mysql/data:/var/lib/mysql&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;$PWD/mysql/conf:/etc/mysql/conf.d/&quot;</span>
  <span class="token key atrule">userservice</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> ./user<span class="token punctuation">-</span>service
  <span class="token key atrule">orderservice</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> ./order<span class="token punctuation">-</span>service
  <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> ./gateway
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;10010:10010&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到，其中包含5个service服务：</p><ul><li>nacos：作为注册中心和配置中心 <ul><li>image: nacos/nacos-server： 基于nacos/nacos-server镜像构建</li><li>environment：环境变量 <ul><li>MODE: standalone：单点模式启动</li></ul></li><li>ports：端口映射，这里暴露了8848端口</li></ul></li><li>mysql：数据库 <ul><li>image: mysql:5.7.25：镜像版本是mysql:5.7.25</li><li>environment：环境变量 <ul><li>MYSQL_ROOT_PASSWORD: 123：设置数据库root账户的密码为123</li></ul></li><li>volumes：数据卷挂载，这里挂载了mysql的data、conf目录，其中有我提前准备好的数据</li></ul></li><li>userservice、orderservice、gateway：都是基于Dockerfile临时构建的</li></ul><p>查看mysql目录，可以看到其中已经准备好了cloud_order、cloud_user表<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674049540887-abe43d3d-a063-4387-ae47-ad729663f196.png#averageHue=%23f8f6f6&amp;clientId=u3747baf0-3244-4&amp;from=paste&amp;height=410&amp;id=u01e39ec5&amp;name=image.png&amp;originHeight=369&amp;originWidth=1111&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=108877&amp;status=done&amp;style=none&amp;taskId=u70dc1bc8-3f64-4bb9-b57e-0717a1c578d&amp;title=&amp;width=1234.4444771460553" alt="image.png"><br>查看微服务目录，可以看到都包含Dockerfile文件<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674049552921-573ac7e3-3fe3-4db1-9b77-4d62e39fe5a5.png#averageHue=%23f8f5f5&amp;clientId=u3747baf0-3244-4&amp;from=paste&amp;height=324&amp;id=uc016093d&amp;name=image.png&amp;originHeight=292&amp;originWidth=852&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=61857&amp;status=done&amp;style=none&amp;taskId=u2b4b7b61-802b-403c-80be-0d9a121a94b&amp;title=&amp;width=946.6666917447698" alt="image.png"></p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> java:8-alpine</span>
<span class="token instruction"><span class="token keyword">COPY</span> ./app.jar /tmp/app.jar</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> java -jar /tmp/app.jar</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-2-修改微服务配置" tabindex="-1"><a class="header-anchor" href="#_4-3-2-修改微服务配置" aria-hidden="true">#</a> 4.3.2 修改微服务配置</h3><p>因为微服务将来要部署为docker容器，而容器之间互联不是通过IP地址，而是通过容器名。这里我们将order-service、user-service、gateway服务的mysql、nacos地址都修改为基于容器名的访问。<br>如下所示：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//mysql<span class="token punctuation">:</span>3306/cloud_order<span class="token punctuation">?</span>useSSL=false
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.jdbc.Driver
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> orderservice
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> nacos<span class="token punctuation">:</span><span class="token number">8848</span> <span class="token comment"># nacos服务地址</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-3-打包" tabindex="-1"><a class="header-anchor" href="#_4-3-3-打包" aria-hidden="true">#</a> 4.3.3 打包</h3><p>接下来需要将我们的每个微服务都打包。因为之前查看到Dockerfile中的jar包名称都是app.jar，因此我们的每个微服务都需要用这个名称。<br>可以通过修改pom.xml中的打包名称来实现，每个微服务都需要修改</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 服务打包的最终名称 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>app<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>打包后：<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674049718897-09c08775-dd51-49b9-bb0a-2e3da4e40b45.png#averageHue=%23f9f7e8&amp;clientId=u3747baf0-3244-4&amp;from=paste&amp;height=1010&amp;id=udf56aee1&amp;name=image.png&amp;originHeight=909&amp;originWidth=846&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=126348&amp;status=done&amp;style=none&amp;taskId=u9944cdfa-a952-4b63-91d3-74f12211ef0&amp;title=&amp;width=940.0000249014967" alt="image.png"></p><h3 id="_4-3-4-拷贝jar包到部署目录" tabindex="-1"><a class="header-anchor" href="#_4-3-4-拷贝jar包到部署目录" aria-hidden="true">#</a> 4.3.4 拷贝jar包到部署目录</h3><p>编译打包好的app.jar文件，需要放到Dockerfile的同级目录中。<br>注意：每个微服务的app.jar放到与服务名称对应的目录，别搞错了<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674049772013-8c2cde2c-b7a4-4e46-915d-ebf851701bf9.png#averageHue=%23f7f4f4&amp;clientId=u3747baf0-3244-4&amp;from=paste&amp;height=322&amp;id=u66ed8447&amp;name=image.png&amp;originHeight=290&amp;originWidth=891&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=67916&amp;status=done&amp;style=none&amp;taskId=u60d59dbd-a5b9-4b1e-a12b-850f2d18dc0&amp;title=&amp;width=990.0000262260444" alt="image.png"></p><h3 id="_4-3-5-部署" tabindex="-1"><a class="header-anchor" href="#_4-3-5-部署" aria-hidden="true">#</a> 4.3.5 部署</h3><p>最后，我们需要将整个cloud-demo文件夹上传到虚拟机中，理由DockerCompose部署。<br>上传到任意目录：<br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1674049811208-ac21384b-571f-4b8d-b9d5-a29b57a9d20b.png#averageHue=%23dfdddd&amp;clientId=u3747baf0-3244-4&amp;from=paste&amp;height=381&amp;id=uecccdb44&amp;name=image.png&amp;originHeight=343&amp;originWidth=967&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=42310&amp;status=done&amp;style=none&amp;taskId=ua5c23d27-77a2-4d9c-a700-c2734d82558&amp;title=&amp;width=1074.4444729075028" alt="image.png"><br>部署：<br>进入cloud-demo目录，然后运行下面的命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="_5、docker镜像仓库" tabindex="-1"><a class="header-anchor" href="#_5、docker镜像仓库" aria-hidden="true">#</a> 5、Docker镜像仓库</h1><h2 id="_5-1-搭建私有镜像仓库" tabindex="-1"><a class="header-anchor" href="#_5-1-搭建私有镜像仓库" aria-hidden="true">#</a> 5.1 搭建私有镜像仓库</h2><p><strong>参考 1.3 篇</strong></p><h2 id="_5-2-推送、拉取镜像" tabindex="-1"><a class="header-anchor" href="#_5-2-推送、拉取镜像" aria-hidden="true">#</a> 5.2 推送、拉取镜像</h2><p>推送镜像到私有镜像服务必须先tag<br>① 重新tag本地镜像，名称前缀为私有仓库的地址：192.168.150.101:8080/</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> tag nginx:latest <span class="token number">192.168</span>.150.101:8080/nginx:1.0 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>② 推送镜像</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> push <span class="token number">192.168</span>.150.101:8080/nginx:1.0 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>③ 拉取镜像</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull <span class="token number">192.168</span>.150.101:8080/nginx:1.0 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="_6、docker命令汇总" tabindex="-1"><a class="header-anchor" href="#_6、docker命令汇总" aria-hidden="true">#</a> 6、Docker命令汇总</h1><p><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1676871692271-1afd24fb-1279-4f0f-b5b2-2861f66713d1.png#averageHue=%23f2f0ed&amp;clientId=u50aa8d81-8cac-4&amp;from=paste&amp;height=451&amp;id=u4ed2ce24&amp;name=image.png&amp;originHeight=564&amp;originWidth=668&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=86930&amp;status=done&amp;style=none&amp;taskId=u3a04f581-f13e-4d94-a33e-4111cd24aaa&amp;title=&amp;width=534.4" alt="image.png"><br> 镜像仓库用来保存镜像，可分为远程镜像仓库和本地镜像仓库。 <br> 通过pull命令可以把远程仓库的镜像下载到本地，通过push命令可以把本地仓库的镜像推送到远程 <br> 本地仓库中的镜像可以用来创建容器，一个镜像可以创建多个容器 <br> 容器也可以通过commit命令打包成镜像，提交到本地仓库。</p><h2 id="操作远程仓库的命令" tabindex="-1"><a class="header-anchor" href="#操作远程仓库的命令" aria-hidden="true">#</a> 操作远程仓库的命令</h2><h3 id="login-登录到远程仓库" tabindex="-1"><a class="header-anchor" href="#login-登录到远程仓库" aria-hidden="true">#</a> login：登录到远程仓库</h3><p>login命令可以登录到远程仓库，登录到远程仓库后可可以拉取仓库的镜像了 <br> <strong>login语法</strong></p><blockquote><p>** docker login [OPTIONS] [SERVER] ** ** SERVER**：远程仓库地址，默认为docker官方仓库 <strong>OPTIONS</strong>：</p><ul><li><code>-u</code> string：用户名</li><li><code>-p</code> string：密码</li></ul></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> login <span class="token parameter variable">-u</span> linwei <span class="token parameter variable">-p</span> <span class="token number">123456</span> <span class="token number">192.168</span>.10.10/docker-lib
<span class="token function">docker</span> login <span class="token number">192.168</span>.10.10/docker-lib
<span class="token function">docker</span> login
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="search-从远程仓库搜索镜像" tabindex="-1"><a class="header-anchor" href="#search-从远程仓库搜索镜像" aria-hidden="true">#</a> search：从远程仓库搜索镜像</h3><p>** search语法**</p><blockquote><p>**docker search [OPTIONS] TERM ** <strong>OPTIONS</strong> ：</p><ul><li><code>-f </code>参数表示根据条件过滤搜索出来的镜像 docker search -f KEY=VALUE TERM</li><li><code>KEY</code><ul><li><code>stars</code> int: 根据热度过滤，如：stars=10表示过滤热度大于10的镜像</li><li><code>is-automated</code> boolean: 根据是否自动构建过滤，如：is-automated=false表示过滤非自动构建的镜像</li><li><code>is-official</code> boolean: 根据是否官方发布过滤，如：is-official=false表示过滤非官方发布的镜像</li></ul></li><li><code> --format</code> 参数用来指定搜索出来的镜像的显示的格式 <ul><li>docker search --format &quot;[table] [...]&quot; TERM</li></ul></li><li><code>COLUMN</code><ul><li>.Name ：显示镜像的名称列</li><li>.Description ：显示镜像的描述列</li><li>.StarCount ：显示镜像的热度一列</li><li>.IsOfficial ：显示镜像是否是官方发布一列</li><li>.IsAutomated ：显示镜像是否是自动构建一列</li></ul></li></ul></blockquote><p><strong>TERM</strong> ：镜像的关键词</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 搜索centos镜像</span>
<span class="token function">docker</span> search centos
<span class="token comment"># 搜索centos镜像，只展示5个</span>
<span class="token function">docker</span> search <span class="token parameter variable">--limit</span> <span class="token number">5</span> centos
<span class="token comment"># 搜索热度大于100并且不是自动构建的centos镜像</span>
<span class="token function">docker</span> search <span class="token parameter variable">-f</span> <span class="token assign-left variable">stars</span><span class="token operator">=</span><span class="token number">100</span> <span class="token parameter variable">-f</span> is-automated<span class="token operator">=</span>true centos
<span class="token comment"># 搜索非官方发布的centos镜像，搜索结果只展示名称和热度，列之间用TAB键隔开</span>
<span class="token function">docker</span> search <span class="token parameter variable">-f</span> is-official<span class="token operator">=</span>false <span class="token parameter variable">--format</span> <span class="token string">&quot;table{{.Name}}<span class="token entity" title="\t">\t</span>{{.StarCount}}&quot;</span> centos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>search命令可以从远程仓库搜索镜像 <br><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1676872012670-528a6e00-35c1-45f3-862f-d16b39448d13.png#averageHue=%231a1a1a&amp;clientId=u50aa8d81-8cac-4&amp;from=paste&amp;height=188&amp;id=u1d10d093&amp;name=image.png&amp;originHeight=235&amp;originWidth=647&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=93892&amp;status=done&amp;style=none&amp;taskId=u4e7445c3-5262-4fd8-84fd-dd2dc75255b&amp;title=&amp;width=517.6" alt="image.png"><br>列含义：</p><table><thead><tr><th>** NAME **</th><th>** DESCRIPTION **</th><th>** STARS **</th><th>** OFFICIAL **</th><th>** AUTOMATED **</th></tr></thead><tbody><tr><td>镜像名称</td><td>镜像描述</td><td>镜像热度，类似于github的 starts</td><td>是否是官方发布</td><td>是否自动构建</td></tr></tbody></table><h3 id="push-把本地镜像推送到远程仓库" tabindex="-1"><a class="header-anchor" href="#push-把本地镜像推送到远程仓库" aria-hidden="true">#</a> push：把本地镜像推送到远程仓库</h3><p>push可以把本地仓库中的镜像推送到远程仓库，不过需要先登录远程仓库 <br> **push语法 **</p><blockquote><p>** docker push [OPTIONS] NAME[:TAG] ** <strong>OPTIONS</strong> ：可选参数</p><ul><li><code>--disable-content-trust</code> ：推送时远程仓库不校验签名，默认为true</li></ul></blockquote><p><strong>NAME</strong> ：镜像名称</p><blockquote><p><strong>TAG</strong> ：镜像版本号，可省略，默认为latest</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> push my-image:1.1.0
<span class="token function">docker</span> push my-image
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pull-从远程仓库拉取或更新镜像" tabindex="-1"><a class="header-anchor" href="#pull-从远程仓库拉取或更新镜像" aria-hidden="true">#</a> pull：从远程仓库拉取或更新镜像</h3><p>pull命令可以从远程仓库拉取镜像，如果本地仓库已经存在该镜像，则会更新 <br> **pull语法 **</p><blockquote><p>** docker pull [OPTIONS] NAME[:TAG|@DIGEST] ** <strong>OPTIONS</strong> ：可选参数</p><ul><li><code>-a</code> : 拉取镜像的所有版本号</li><li><code>--disable-content-trust</code> ：推送时远程仓库不校验签名，默认为 true</li><li><code>-q</code> : 安静模式，推送过程中不展示详细信息</li></ul></blockquote><p>** NAME** ：镜像名称</p><blockquote><p>** TAG** ：镜像版本号，可省略，默认为latest ** DIGEST** ： 镜像的摘要，每个镜像都有对应的名称、id、摘要信息，每个摘要信息能唯一代表一个镜像</p></blockquote><p><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1676872752771-5407ace4-4002-47ef-ae83-2f5b8a966727.png#averageHue=%23222222&amp;clientId=u50aa8d81-8cac-4&amp;from=paste&amp;height=72&amp;id=u71886bfe&amp;name=image.png&amp;originHeight=90&amp;originWidth=658&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=42761&amp;status=done&amp;style=none&amp;taskId=ud62b5482-2fd4-488e-b8a2-e0f96274b95&amp;title=&amp;width=526.4" alt="image.png"></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull centos
<span class="token function">docker</span> pull <span class="token parameter variable">-q</span> centos:5.11
<span class="token function">docker</span> pull <span class="token parameter variable">-a</span> <span class="token parameter variable">-q</span> centos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="操作本地镜像的命令" tabindex="-1"><a class="header-anchor" href="#操作本地镜像的命令" aria-hidden="true">#</a> 操作本地镜像的命令</h2><h3 id="images-显示所有镜像" tabindex="-1"><a class="header-anchor" href="#images-显示所有镜像" aria-hidden="true">#</a> images：显示所有镜像</h3><p>images命令可以显示本地存在的所有镜像 <br> **images语法 **</p><blockquote><p>** docker images [OPTIONS] [REPOSITORY[:TAG]] ** <strong>OPTIONS</strong> ：可选参数</p><ul><li><code>-a</code> : 显示所有镜像，包含中间映像（默认情况下中间映像是隐藏的）</li><li><code>-f</code> filter: 根据条件过滤镜像 <ul><li>docker images -f KEY=VALUE [REPOSITORY[:TAG]]</li><li>KEY： <ul><li><code>dangling</code> boolean：过滤悬挂的镜像，如：dangling=true表示只显示悬挂的镜像</li><li><code>label</code> string: 根据标签过滤，如：label=version表示显示有version标签的镜像，label=version=1.0 表示显示version=1.0的镜像</li><li><code>before</code> image: 显示在某个镜像之前创建的镜像，如： before=centos:5.8表示显示在centos:5.8这个镜像之前创建的镜像</li><li><code>since</code> image: 显示在某个 存在之后创建的镜像，如：since=centos:5.8表示显示在centos:5.8这个镜像存在之后的镜像</li><li><code>reference</code> string：模糊匹配，如：reference=cent:5, 显示名称已cent开头版本号已5开头的 镜像</li></ul></li></ul></li><li><code>-q</code> : 只显示镜像id</li><li><code>no-trunc</code> ：显示完整的镜像id。默认情况下，镜 像的id只显示前12位，no-trunc参数会将镜像id完整的显示出来</li><li><code>--digests</code> ：显示镜像的摘要 信息</li><li><code>--format</code> string: 指定镜像显示的格式，格式详见下文 <ul><li>docker images --format &quot;[table] [...]&quot; [REPOSITORY[:TAG]]</li><li>COLUMN: <ul><li><code> .ID</code> ：显示镜像的名称列</li><li><code>.Repository</code> ：显示镜像的描述列</li><li><code>.Tag</code> ：显示镜像的热度一列</li><li><code>.Digest</code> ：显示镜像是否是官方发布一列</li><li><code>.CreatedSince</code> ：显示镜像是否是自动构建一列</li><li><code>.CreatedAt</code> ：显示镜像是否是自动构建一列</li><li><code>.Size</code> ：显示镜像是否是自动构建一列</li></ul></li></ul></li></ul></blockquote><p>** REPOSITORY** ：镜像路径</p><blockquote><p>** TAG** ：镜像版本</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 显示本地所有镜像</span>
<span class="token function">docker</span> images
<span class="token comment"># 显示本地所有镜像，只显示id列并且不截断</span>
<span class="token function">docker</span> images <span class="token parameter variable">-q</span> --no-trunc
<span class="token comment"># 显示centos镜像信息</span>
<span class="token function">docker</span> images centos
<span class="token comment"># 显示列中包含cent关键字的所有镜像</span>
<span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> cent
<span class="token comment"># 显示本地所有镜像，并显示摘要列</span>
<span class="token function">docker</span> images <span class="token parameter variable">--digests</span>
<span class="token comment"># 显示在cengos:latest镜像之后创建的latest版本的所有镜像</span>
<span class="token function">docker</span> images <span class="token parameter variable">-f</span> <span class="token assign-left variable">since</span><span class="token operator">=</span>centos:latest <span class="token parameter variable">-f</span> <span class="token assign-left variable">reference</span><span class="token operator">=</span>*:latest
<span class="token comment"># 显示所有镜像信息，只显示镜像id、摘要、创建时间3列，列之间用TAB键隔开</span>
<span class="token function">docker</span> images <span class="token parameter variable">--format</span> <span class="token string">&quot;table {{.ID}}<span class="token entity" title="\t">\t</span>{{.Digest}}<span class="token entity" title="\t">\t</span>{{.CreatedAt}}&quot;</span>
<span class="token comment"># 显示在centos:5.11镜像之前创建的镜像，只显示镜像仓库路径、版本号、创建时间3列，列之间用TAB键隔开</span>
<span class="token function">docker</span> images <span class="token parameter variable">-f</span> <span class="token assign-left variable">before</span><span class="token operator">=</span>centos:5.11 <span class="token parameter variable">--format</span> <span class="token string">&quot;table {{.Repository}}<span class="token entity" title="\t">\t</span>{{.Tag}}<span class="token entity" title="\t">\t</span>{{.CreatedAt}}&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2023/png/34929664/1676872996481-89f6337c-45f6-42a9-8716-21ea99a344e4.png#averageHue=%231a1a1a&amp;clientId=u50aa8d81-8cac-4&amp;from=paste&amp;height=122&amp;id=u420ea2a9&amp;name=image.png&amp;originHeight=152&amp;originWidth=655&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=46171&amp;status=done&amp;style=none&amp;taskId=u678c14a2-a4f7-45e0-bb45-47371909fb7&amp;title=&amp;width=524" alt="image.png"><br>列含义：</p><table><thead><tr><th>** REPOSITORY **</th><th>** TAG **</th><th>** IMAGE ID **</th><th>** CREATED **</th><th>** SIZE **</th></tr></thead><tbody><tr><td>仓库路径</td><td>镜像版本</td><td>镜像id</td><td>创建时间</td><td>镜像大小</td></tr></tbody></table><h3 id="rmi-删除本地镜像" tabindex="-1"><a class="header-anchor" href="#rmi-删除本地镜像" aria-hidden="true">#</a> rmi：删除本地镜像</h3><p>rmi命令可以删除一个或多个本地镜像，通常情况应该用rm表示删除命令，但是在doker命令中rm 表示删除容 器，所以用rmi表示删除镜像，其中的 i 是image的首字母 <br>** rmi语法 **</p><blockquote><p>** docker rmi [OPTIONS] IMAGE [IMAGE...] ** <strong>OPTIONS</strong> ：可选参数</p><ul><li><code>-f </code>: 强制删除，如果镜像有对应的容器正在运行，则不允许直接删除镜像，需要强制删除</li><li><code>-- no-prune</code> ：不删除该镜像的过程镜像，默认是删除的</li></ul></blockquote><p>** IMAGE** ：镜像id或仓库路径名称</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 删除centos镜像</span>
<span class="token function">docker</span> rmi tomcat
<span class="token comment"># 删除centos:5.11镜像</span>
<span class="token function">docker</span> rmi centos:5.11
<span class="token comment"># 删除id为621ceef7494a的镜像</span>
<span class="token function">docker</span> rmi 621ceef7494a
<span class="token comment"># 同时删除tomcat、centos和redis镜像</span>
<span class="token function">docker</span> rmi tomcat centos redis
<span class="token comment"># 强制删除tomcat镜像，就算此时有tomcat容器正在运行，镜像也会被删除</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> tomcat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tag-标记镜像-将其归入仓库" tabindex="-1"><a class="header-anchor" href="#tag-标记镜像-将其归入仓库" aria-hidden="true">#</a> tag：标记镜像，将其归入仓库</h3><p>tag命令可以基于一个镜像，创建一个新版本的镜像并归入本地仓库，此时该镜像在仓库中存在两个 版本，可以 根据这两个镜像创建不同的容器 <br> **tag语法 **</p><blockquote><p>** docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG] ** <strong>SOURCE_IMAGE</strong> : 原镜像 ** TARGET_IMAGE** ：新镜像 ** TAG** ：镜像的版本号</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 基于redis:latest镜像创建my-redis1.0镜像，并把新镜像归入redis-lib仓库</span>
<span class="token function">docker</span> tag redis:latest redis-lib/my-redis:1.0
<span class="token comment"># 基于621ceef7494a镜像创建my-redis:test-100m镜像，并把新镜像归入redis-lib仓库</span>
<span class="token function">docker</span> tag 621ceef7494a redis-lib/my-redis:test-100m
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="history-查看镜像的创建历史" tabindex="-1"><a class="header-anchor" href="#history-查看镜像的创建历史" aria-hidden="true">#</a> history：查看镜像的创建历史</h3><p>history命令用来查看某一个镜像的创建历史，也就是镜像的提交记录 <br> **history语法 **</p><blockquote><p>** docker history [OPTIONS] IMAGE ** <strong>OPTIONS</strong> ：可选参数</p><ul><li><code>-H</code> boolean: 已可读的格式打印日期和大小，默认为true</li><li><code>-q</code> : 只显示镜像id</li><li><code>no-trunc</code> ：输出 结果不截取，正常情况下查看到的结果如果某一列太长会被截取</li><li><code>--format</code> string: 指定镜像显示的格式 <ul><li>docker history --format &quot;[table] [...]&quot; IMAGE</li><li>COLUMN <ul><li><code>.ID </code>：镜像的ID</li><li><code>.CreatedSince</code> ：镜像创建的时长</li><li><code>.CreatedAt</code> ：镜像创建的时间戳</li><li><code>.CreatedBy</code> ：镜像创建使用的命令</li><li><code> .Size</code> ：镜像的大小</li><li><code> .Comment</code> ：镜像的评论</li></ul></li></ul></li></ul></blockquote><p><strong>IMAGE</strong> ：镜像</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 显示centos镜像的创建历史</span>
<span class="token function">docker</span> <span class="token function">history</span> centos
<span class="token comment"># 显示centos镜像的创建历史，时间和大小转换为人类可读的格式</span>
<span class="token function">docker</span> <span class="token function">history</span> <span class="token parameter variable">-H</span><span class="token operator">=</span>true centos
<span class="token comment"># 显示centos镜像的创建历史，只显示ID、创建时间戳和创建时的命令3列，列之间使用TAB键隔开</span>
<span class="token function">docker</span> <span class="token function">history</span> <span class="token parameter variable">--format</span> <span class="token string">&quot;table {{.ID}}<span class="token entity" title="\t">\t</span>{{.CreatedAt}}<span class="token entity" title="\t">\t</span>{{.CreatedBy}}&quot;</span> centos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="save-将镜像打包成文件" tabindex="-1"><a class="header-anchor" href="#save-将镜像打包成文件" aria-hidden="true">#</a> save：将镜像打包成文件</h3><p>save命令可以把一个镜像或多个镜像打包到一个文件中，需要特别注意和export命令的区分</p><ul><li>save命令打包的是镜像，包含镜像的所有信息</li><li>exprot命令打包的是容器，只是保存容器当时的快照，历史记录和元数据信息将会丢失</li></ul><p>** save语法 **</p><blockquote><p>** docker save [OPTIONS] IMAGE [IMAGE...] ** <strong>OPTIONS</strong> ：可选参数</p><ul><li><code>-o</code> string: 指定目标文件，和linux原生命令 &gt; 有相同作用</li></ul></blockquote><p><strong>IMAGE</strong> ：镜像</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 将centos镜像打包成my-images.tar</span>
<span class="token function">docker</span> save centos <span class="token operator">&gt;</span> /home/my-images.tar
<span class="token comment"># 将centos镜像和redis镜像打包到my-images.tar</span>
<span class="token function">docker</span> save centos redis <span class="token operator">&gt;</span> /home/my-images.tar
<span class="token comment"># 将centos镜像和redis镜像打包到my-images.tar</span>
<span class="token function">docker</span> save <span class="token parameter variable">-o</span> /home/my-images.tar centos redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="load-从指定文件中加载镜像" tabindex="-1"><a class="header-anchor" href="#load-从指定文件中加载镜像" aria-hidden="true">#</a> load：从指定文件中加载镜像</h3><p>load命令可以从指定文件中加载镜像，该文件需要是save命令保存的文件 <br>** load语法 **</p><blockquote><p>** docker load [OPTIONS] ** <strong>OPTIONS</strong> ：可选参数</p><ul><li><code>-i</code> string: 指定文件的路径</li><li><code>-q</code> ：安静模式输出</li></ul></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 从my-images.tar文件中加载镜像</span>
<span class="token function">docker</span> load <span class="token operator">&lt;</span> /home/my-images.tar
<span class="token comment"># 从my-images.tar文件中加载镜像</span>
<span class="token function">docker</span> load <span class="token parameter variable">-i</span> /home/my-images.tar
<span class="token comment"># 使用安静模式从my-images.tar文件中加载镜像</span>
<span class="token function">docker</span> load <span class="token parameter variable">-i</span> /home/my-images.tar <span class="token parameter variable">-q</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="操作容器的命令" tabindex="-1"><a class="header-anchor" href="#操作容器的命令" aria-hidden="true">#</a> 操作容器的命令</h2><h3 id="run-创建一个容器并运行" tabindex="-1"><a class="header-anchor" href="#run-创建一个容器并运行" aria-hidden="true">#</a> run：创建一个容器并运行</h3><p>run命令可以创建一个容器并运行，如果创建容器的镜像不存在则会从远程镜像仓库下载 <br> 运行容器的同时还能给容器发送一个命令 <br> **run语法 **</p><blockquote><p>**docker run [OPTIONS] IMAGE [COMMAND] [ARG...] ** <strong>OPTIONS</strong> ：可选参数</p><ul><li><code>-i </code>: 以交互模式运行，通常与<code>-t</code>一起使用</li><li><code>-t</code> : 为容器分配一个伪终端，通常与<code>-i</code>一起使用</li><li><code>-d</code> : 后台模式运行容器，并返回容器id</li><li><code>-p</code> list: 指定端口映射，格式为 <code>宿主机端口:容器端口</code></li><li><code>-P</code> : 随机分配端口映射</li><li><code>--name</code> string: 给容器指定一个名称</li><li><code>-m</code> bytes: 限制容器可以使用的内存大 小，单位可选b、k、m、g</li><li><code>-v</code> list: 把宿主机的磁盘路径挂载到容器的某个路径</li><li><code>--volumes-from</code> list: 绑定别的容器某个路径到此容器的某个路径</li><li><code>-w</code> : 指定容器的工作目录，默认是根目录</li><li><code>--rm</code> : 当容器停止运行时自动删除</li><li><code>--hostname</code> string: 指定容器的主机名</li></ul></blockquote><p><strong>IMAGE</strong> ：镜像</p><blockquote><p><strong>COMMAND</strong> ：需要运行的命令 <strong>ARG</strong> ：命令的参数</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 创建一个centos容器，并运行</span>
<span class="token function">docker</span> run centos
<span class="token comment"># 创建一个centos容器，并以交互模式运行</span>
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> centos
<span class="token comment"># 创建一个centos容器，并后台模式运行</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> centos
<span class="token comment"># 创建一个centos容器，重命名为my-centos，并以交互模式运行，并在容器中运行bash命令</span>
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--name</span> my-centos centos /bin/bash
<span class="token comment"># 创建一个spring-boot容器并以交互模式运行，容器重命名为my-boot，并把主机的80端口映射到容</span>
<span class="token comment"># 器的8080端口，此时访问主机ip+80端口即可访问容器中的sping-boot项目</span>
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--name</span> my-boot <span class="token parameter variable">-p</span> <span class="token number">80</span>:8080 spring-boot
<span class="token comment"># 创建一个spring-boot容器并以交互模式运行，容器重命名为my-boot，并把主机/logs/my-boot/的</span>
<span class="token comment"># 目录绑定到容器的/logs目录，此时my-boot项目的日志可以在主机的/logs/my-boot目录中查看</span>
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--name</span> my-boot <span class="token parameter variable">-v</span> /logs/my-boot/:/logs/ spring-boot
<span class="token comment"># 创建一个spring-boot容器并以交互模式运行，容器重命名为my-boot；把主机的80端口映射到容器</span>
<span class="token comment"># 的8080端口；把主机/logs/my-boot/的路径绑定到容器的/logs目录；给容器分配最大500M的内</span>
<span class="token comment"># 存；指定spring-boot的配置文件为test</span>
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--name</span> my-boot <span class="token parameter variable">-p</span> <span class="token number">80</span>:8080 <span class="token parameter variable">-v</span> /logs/my-boot/:/logs/ <span class="token parameter variable">-m</span> 500M spring-boot <span class="token parameter variable">--spring.profiles.active</span><span class="token operator">=</span>test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3498729975@qq.com">zhanglinwei</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/full-stack-notes/assets/app-afaa926e.js" defer></script>
  </body>
</html>
